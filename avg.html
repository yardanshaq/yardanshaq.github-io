<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div id="mainimage" onclick="start()">
        <div id="background_b" class="frame" style="z-index:0">
        </div>
        <div id="background_f" class="frame" style="z-index:1">
        </div>
        <div id="character_b" class="frame" style="z-index:2">
        </div>
        <div id="character_f" class="frame" style="z-index:5">
        </div>
        <div id="character1_b" class="frame" style="z-index:3">
        </div>
        <div id="character1_f" class="frame" style="z-index:6">
        </div>
        <div id="character2_b" class="frame" style="z-index:4">
        </div>
        <div id="character2_f" class="frame" style="z-index:7">
        </div>
        <canvas id="img" width="1280" height="720" style="position: absolute;z-index:8"></canvas>
        <div id="img_b" class="frame" style="z-index:8">
        </div>
        <div id="img_f" class="frame" style="z-index:9">
        </div>
        <div id="charactercutin1" class="frame" style="z-index:10">
        </div>
        <div id="charactercutin2" class="frame" style="z-index:11">
        </div>
        <div id="blocker" class="frame" style="z-index:12">
        </div>
        <div id="dialogarea" class="frame" style="z-index:13">
            <div id="diamask"></div>
            <div id="name" style="line-height:1.3;position:absolute;left:0px;top:635px;width:330px;text-align:right;color:#929292;font-size:30px;"></div>
            <div id="dialog" style="line-height:1.4;position:absolute;left:384px;top:638px;width:720px;color:#FFFFFF;font-size:24px;">图片资源来自于<a href="http://ak.mooncell.wiki">PRTS</a>,click to start</div>
        </div>
        <div id="decisions" style="z-index:14">
        </div>
    </div>
    <style>
        .frame {
            width: 1280px;
            height: 720px;
            position: absolute;
            background-repeat:no-repeat;
        }

        #mainimage {
            background-color: black;
            width: 1280px;
            height: 720px;
            position: relative;
        }

        #diamask{
            background-image:url("https://cznull.github.io/diamask.png");
            position: absolute;
            width: 1280px;
            height: 720px;
            background-size: 1280px 720px;
            background-position:0px 0px;
        }

        .decision{
            position: absolute;
            left:458px;
            width:360px;
            background-color:#333333;
            text-align:center;
            height:44px;
            padding-top: 16px;
            font-size:24px;
            border:solid 2px #FFFFFF;
            line-height:1.0;
            color:#FFFFFF;
            z-index:14;
        }

    </style>
    <script>

        function tween(x = 0, y = 0, sx = 0, sy = 0) {
            this.x = x;
            this.y = y;
            this.sx = sx;
            this.sy = sy;
            this.lasttime = (new Date()).getTime();
            this.duration = 0;
        }

        function img(x = 0, y = 0, sx = 1.0, sy = 1.0, url = "") {
            this.x = x;
            this.y = y;
            this.sx = sx;
            this.sy = sy;
            this.url = url;
            this.tween = new tween();
        }

        function fade() {
            this.starttime = 0;
            this.duration = 0;
        }

        function part() {
            this.back = new img();
            this.front = new img();
            this.fade = new fade();
        }

        var frame = {};
        var currentline;
        var isonplay = 0;
        var width = 1280;
        var height = 720;

        var charmap = {
            "avg_npc_001": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_001", "a": "avg_npc_001[alpha]" }] }, "avg_npc_002": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_002", "a": "avg_npc_002[alpha]" }] }, "avg_npc_003": { "x": 0.000000, "y": 180.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "avg_npc_003", "a": "avg_npc_003[alpha]" }] }, "avg_npc_004": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_004", "a": "avg_npc_004[alpha]" }] }, "avg_npc_005": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_005", "a": "avg_npc_005[alpha]" }] }, "avg_npc_006": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_006", "a": "avg_npc_006[alpha]" }] }, "avg_npc_007": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_007", "a": "avg_npc_007[alpha]" }] }, "avg_npc_008": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_008", "a": "avg_npc_008[alpha]" }] }, "avg_npc_009": { "x": 0.000000, "y": 190.000000, "sx": 970.000000, "sy": 970.000000, array: [{ "name": "", "rgb": "avg_npc_009", "a": "avg_npc_009[alpha]" }] }, "avg_npc_010": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_010", "a": "avg_npc_010[alpha]" }, { "name": "", "rgb": "avg_npc_010_2", "a": "avg_npc_010_2[alpha]" }] }, "avg_npc_011": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_011", "a": "avg_npc_011[alpha]" }] }, "avg_npc_012": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_012", "a": "avg_npc_012[alpha]" }] }, "avg_npc_013": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_013", "a": "avg_npc_013[alpha]" }] }, "avg_npc_014": { "x": 0.000000, "y": 160.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_014", "a": "avg_npc_014[alpha]" }] }, "avg_npc_015": { "x": 0.000000, "y": 170.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_015", "a": "avg_npc_015[alpha]" }] }, "avg_npc_016": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_016", "a": "avg_npc_016[alpha]" }] }, "avg_npc_017_3": { "x": 0.000000, "y": 160.000000, "sx": 900.000000, "sy": 900.000000, array: [{ "name": "", "rgb": "avg_npc_017_1", "a": "avg_npc_017_1[alpha]" }, { "name": "", "rgb": "avg_npc_017_3", "a": "avg_npc_017_3[alpha]" }, { "name": "", "rgb": "avg_npc_017_2", "a": "avg_npc_017_2[alpha]" }, { "name": "", "rgb": "avg_npc_017_6", "a": "avg_npc_017_6[alpha]" }, { "name": "", "rgb": "avg_npc_017_5", "a": "avg_npc_017_5[alpha]" }, { "name": "", "rgb": "avg_npc_017_4", "a": "avg_npc_017_4[alpha]" }] }, "avg_npc_020": { "x": 0.000000, "y": 180.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "avg_npc_020", "a": "avg_npc_020[alpha]" }] }, "avg_npc_021": { "x": 0.000000, "y": 160.000000, "sx": 1200.000000, "sy": 1200.000000, array: [{ "name": "", "rgb": "avg_npc_021", "a": "avg_npc_021[alpha]" }] }, "avg_npc_022": { "x": 0.000000, "y": 180.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "avg_npc_022", "a": "avg_npc_022[alpha]" }] }, "avg_npc_023_2": { "x": 0.000000, "y": 120.000000, "sx": 1200.000000, "sy": 1200.000000, array: [{ "name": "", "rgb": "avg_npc_023_2", "a": "avg_npc_023_2[alpha]" }, { "name": "", "rgb": "avg_npc_023_3", "a": "avg_npc_023_3[alpha]" }, { "name": "", "rgb": "avg_npc_023_1", "a": "avg_npc_023_1[alpha]" }] }, "avg_npc_024": { "x": 0.000000, "y": 170.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "avg_npc_024", "a": "avg_npc_024[alpha]" }] }, "avg_npc_025_1": { "x": 0.000000, "y": 170.000000, "sx": 1300.000000, "sy": 1300.000000, array: [{ "name": "", "rgb": "avg_npc_025_1", "a": "avg_npc_025_1[alpha]" }, { "name": "", "rgb": "avg_npc_025_2", "a": "avg_npc_025_2[alpha]" }] }, "avg_npc_026": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "avg_npc_026", "a": "avg_npc_026[alpha]" }] },
            "char_002_amiya_1": { "x": 0.000000, "y": 203.000000, "sx": 1090.000000, "sy": 1090.000000, array: [{ "name": "normal", "rgb": "char_002_amiya_1", "a": "char_002_amiya_1[alpha]" }, { "name": "open mouth", "rgb": "char_002_amiya_2", "a": "char_002_amiya_2[alpha]" }, { "name": "smile", "rgb": "char_002_amiya_3", "a": "char_002_amiya_3[alpha]" }, { "name": "sad", "rgb": "char_002_amiya_4", "a": "char_002_amiya_4[alpha]" }, { "name": "flurried", "rgb": "char_002_amiya_5", "a": "char_002_amiya_5[alpha]" }, { "name": "amazed", "rgb": "char_002_amiya_6", "a": "char_002_amiya_6[alpha]" }, { "name": "serious", "rgb": "char_002_amiya_7", "a": "char_002_amiya_7[alpha]" }, { "name": "shadow", "rgb": "char_002_amiya_8", "a": "char_002_amiya_8[alpha]" }, { "name": "angry", "rgb": "char_002_amiya_9", "a": "char_002_amiya_9[alpha]" }, { "name": "happy", "rgb": "char_002_amiya_10", "a": "char_002_amiya_10[alpha]" }, { "name": "delighted", "rgb": "char_002_amiya_11", "a": "char_002_amiya_11[alpha]" }] }, "char_002_amiya_summer_2": { "x": 0.000000, "y": 160.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_002_amiya_summer_2", "a": "char_002_amiya_summer_2[alpha]" }, { "name": "", "rgb": "char_002_amiya_summer_1", "a": "char_002_amiya_summer_1[alpha]" }, { "name": "", "rgb": "", "a": "" }] }, "char_003_kalts_1": { "x": 0.000004, "y": 225.000000, "sx": 956.000000, "sy": 956.000000, array: [{ "name": "normal", "rgb": "char_003_kalts_1", "a": "char_003_kalts_1[alpha]" }, { "name": "complex", "rgb": "char_003_kalts_2", "a": "char_003_kalts_2[alpha]" }, { "name": "eyebrow", "rgb": "char_003_kalts_3", "a": "char_003_kalts_3[alpha]" }] }, "char_007_closre_1": { "x": 0.000000, "y": 203.000000, "sx": 900.000000, "sy": 900.000000, array: [{ "name": "normal", "rgb": "char_007_closre_1", "a": "char_007_closre_1[alpha]" }, { "name": "complex", "rgb": "char_007_closre_2", "a": "char_007_closre_2[alpha]" }, { "name": "mist", "rgb": "char_007_closre_3", "a": "char_007_closre_3[alpha]" }, { "name": "", "rgb": "char_007_closre_4", "a": "char_007_closre_4[alpha]" }, { "name": "", "rgb": "char_007_closre_5", "a": "char_007_closre_5[alpha]" }, { "name": "", "rgb": "char_007_closre_6", "a": "char_007_closre_6[alpha]" }] }, "char_010_chen_1": { "x": -3.000000, "y": 182.000000, "sx": 1085.000000, "sy": 1085.000000, array: [{ "name": "normal", "rgb": "char_010_chen_1", "a": "char_010_chen_1[alpha]" }, { "name": "angry", "rgb": "char_010_chen_2", "a": "char_010_chen_2[alpha]" }, { "name": "amazed", "rgb": "char_010_chen_3", "a": "char_010_chen_3[alpha]" }, { "name": "severe", "rgb": "char_010_chen_4", "a": "char_010_chen_4[alpha]" }, { "name": "serious", "rgb": "char_010_chen_5", "a": "char_010_chen_5[alpha]" }, { "name": "sad", "rgb": "char_010_chen_6", "a": "char_010_chen_6[alpha]" }] }, "char_010_chen_summer": { "x": 0.000000, "y": 160.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_010_chen_summer", "a": "char_010_chen_summer[alpha]" }] }, "char_011_talula_1": { "x": 77.000000, "y": 145.000000, "sx": 1140.000000, "sy": 1140.000000, array: [{ "name": "normal", "rgb": "char_011_talula_1", "a": "char_011_talula_1[alpha]" }, { "name": "shadow", "rgb": "char_011_talula_2", "a": "char_011_talula_2[alpha]" }] }, "char_012_misa_1": { "x": 0.000000, "y": 184.500000, "sx": 987.000000, "sy": 987.000000, array: [{ "name": "normal", "rgb": "char_012_misa_1", "a": "char_012_misa_1[alpha]" }, { "name": "despair", "rgb": "char_012_misa_2", "a": "char_012_misa_2[alpha]" }, { "name": "smile", "rgb": "char_012_misa_3", "a": "char_012_misa_3[alpha]" }, { "name": "amazed", "rgb": "char_012_misa_4", "a": "char_012_misa_4[alpha]" }, { "name": "shadow", "rgb": "char_012_misa_5", "a": "char_012_misa_5[alpha]" }] }, "char_013_riop": { "x": 0.000000, "y": 232.500000, "sx": 965.000000, "sy": 965.000000, array: [{ "name": "normal", "rgb": "char_013_riop", "a": "char_013_riop[alpha]" }] }, "char_014_riope": { "x": 38.000000, "y": 194.000000, "sx": 1189.000000, "sy": 1189.000000, array: [{ "name": "normal", "rgb": "char_014_riope", "a": "char_014_riope[alpha]" }] }, "char_015_lmg": { "x": 11.000000, "y": 180.000000, "sx": 1116.000000, "sy": 1116.000000, array: [{ "name": "normal", "rgb": "char_015_lmg", "a": "char_015_lmg[alpha]" }] }, "char_016_medic": { "x": 0.000000, "y": 179.000000, "sx": 1056.000000, "sy": 1056.000000, array: [{ "name": "normal", "rgb": "char_016_medic", "a": "char_016_medic[alpha]" }] }, "char_017_homura_3": { "x": 0.000000, "y": 180.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "char_017_homura_3", "a": "char_017_homura_3[alpha]" }, { "name": "", "rgb": "char_017_homura_2", "a": "char_017_homura_2[alpha]" }, { "name": "", "rgb": "char_017_homura_4", "a": "char_017_homura_4[alpha]" }, { "name": "", "rgb": "char_017_homura_1", "a": "char_017_homura_1[alpha]" }] }, "char_1002_nsabr_1": { "x": 0.000000, "y": 231.000000, "sx": 998.000000, "sy": 998.000000, array: [{ "name": "", "rgb": "char_1002_nsabr_1", "a": "char_1002_nsabr_1[alpha]" }] }, "char_1002_nsabr_2": { "x": -11.350000, "y": 203.000000, "sx": 1001.299988, "sy": 1001.000000, array: [{ "name": "", "rgb": "char_1002_nsabr_2", "a": "char_1002_nsabr_2[alpha]" }] }, "char_1011_wizard_1": { "x": 0.000000, "y": 203.000000, "sx": 1078.000000, "sy": 1078.000000, array: [{ "name": "normal", "rgb": "char_1011_wizard_1", "a": "char_1011_wizard_1[alpha]" }, { "name": "fire", "rgb": "char_1011_wizard_2", "a": "char_1011_wizard_2[alpha]" }] }, "char_101_sora_1": { "x": 0.000000, "y": 190.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_101_sora_1", "a": "char_101_sora_1[alpha]" }] }, "char_101_sora_summer": { "x": 0.000000, "y": 180.000000, "sx": 850.000000, "sy": 850.000000, array: [{ "name": "", "rgb": "char_101_sora_summer", "a": "char_101_sora_summer[alpha]" }] }, "char_102_texas_1": { "x": 0.000000, "y": 203.000000, "sx": 932.000000, "sy": 932.000000, array: [{ "name": "normal", "rgb": "char_102_texas_1", "a": "char_102_texas_1[alpha]" }] }, "char_103_angel_1": { "x": 0.000000, "y": 208.000000, "sx": 934.000000, "sy": 934.000000, array: [{ "name": "normal", "rgb": "char_103_angel_1", "a": "char_103_angel_1[alpha]" }] }, "char_105_emper": { "x": 0.000000, "y": 200.000000, "sx": 900.000000, "sy": 900.000000, array: [{ "name": "", "rgb": "char_105_emper", "a": "char_105_emper[alpha]" }] }, "char_106_franka_1": { "x": 51.000000, "y": 176.000000, "sx": 1064.000000, "sy": 1064.000000, array: [{ "name": "normal", "rgb": "char_106_franka_1", "a": "char_106_franka_1[alpha]" }] }, "char_107_liskam_1": { "x": 0.000000, "y": 196.000000, "sx": 968.000000, "sy": 968.000000, array: [{ "name": "normal", "rgb": "char_107_liskam_1", "a": "char_107_liskam_1[alpha]" }] }, "char_130_doberm_ex": { "x": 0.000000, "y": 180.000000, "sx": 1009.000000, "sy": 1009.000000, array: [{ "name": "normal", "rgb": "char_130_doberm_ex", "a": "char_130_doberm_ex[alpha]" }] },
            "char_131_flameb_5": { "x": 0.000000, "y": 150.000000, "sx": 1300.000000, "sy": 1300.000000, array: [{ "name": "", "rgb": "char_131_flameb_1", "a": "char_131_flameb_1[alpha]" }, { "name": "", "rgb": "char_131_flameb_2", "a": "char_131_flameb_2[alpha]" }, { "name": "", "rgb": "char_131_flameb_3", "a": "char_131_flameb_3[alpha]" }, { "name": "", "rgb": "char_131_flameb_4", "a": "char_131_flameb_4[alpha]" }, { "name": "", "rgb": "char_131_flameb_5", "a": "char_131_flameb_5[alpha]" }, { "name": "", "rgb": "char_131_flameb_6", "a": "char_131_flameb_6[alpha]" }, { "name": "", "rgb": "char_131_flameb_7", "a": "char_131_flameb_7[alpha]" }] }, "char_134_ifrit_5": { "x": 0.000000, "y": 170.000000, "sx": 950.000000, "sy": 950.000000, array: [{ "name": "", "rgb": "char_134_ifrit_1", "a": "char_134_ifrit_1[alpha]" }, { "name": "", "rgb": "char_134_ifrit_2", "a": "char_134_ifrit_2[alpha]" }, { "name": "", "rgb": "char_134_ifrit_3", "a": "char_134_ifrit_3[alpha]" }, { "name": "", "rgb": "char_134_ifrit_4", "a": "char_134_ifrit_4[alpha]" }, { "name": "", "rgb": "char_134_ifrit_5", "a": "char_134_ifrit_5[alpha]" }, { "name": "", "rgb": "char_134_ifrit_6", "a": "char_134_ifrit_6[alpha]" }, { "name": "", "rgb": "char_134_ifrit_7", "a": "char_134_ifrit_7[alpha]" }, { "name": "", "rgb": "char_134_ifrit_8", "a": "char_134_ifrit_8[alpha]" }, { "name": "", "rgb": "char_134_ifrit_9", "a": "char_134_ifrit_9[alpha]" }, { "name": "", "rgb": "char_134_ifrit_10", "a": "char_134_ifrit_10[alpha]" }, { "name": "", "rgb": "char_134_ifrit_11", "a": "char_134_ifrit_11[alpha]" }] }, "char_134_ifrit_summer_1": { "x": 0.000000, "y": 130.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "char_134_ifrit_summer_1", "a": "char_134_ifrit_summer_1[alpha]" }] }, "char_136_hsguma": { "x": 0.000005, "y": 203.000000, "sx": 1086.000000, "sy": 1086.000000, array: [{ "name": "normal", "rgb": "char_136_hsguma_1", "a": "char_136_hsguma_1[alpha]" }, { "name": "", "rgb": "char_136_hsguma_3", "a": "char_136_hsguma_3[alpha]" }] }, "char_143_ghost": { "x": 0.000000, "y": 203.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_143_ghost", "a": "char_143_ghost[alpha]" }] }, "char_144_red_7": { "x": 0.000000, "y": 160.000000, "sx": 1030.000000, "sy": 1030.000000, array: [{ "name": "", "rgb": "char_144_red_1", "a": "char_144_red_1[alpha]" }, { "name": "", "rgb": "char_144_red_2", "a": "char_144_red_2[alpha]" }, { "name": "", "rgb": "char_144_red_3", "a": "char_144_red_3[alpha]" }, { "name": "", "rgb": "char_144_red_4", "a": "char_144_red_4[alpha]" }, { "name": "", "rgb": "char_144_red_5", "a": "char_144_red_5[alpha]" }, { "name": "", "rgb": "char_144_red_6", "a": "char_144_red_6[alpha]" }, { "name": "", "rgb": "char_144_red_7", "a": "char_144_red_7[alpha]" }, { "name": "", "rgb": "char_144_red_8", "a": "char_144_red_8[alpha]" }] }, "char_145_prove_1": { "x": 0.000000, "y": 160.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_145_prove_1", "a": "char_145_prove_1[alpha]" }] }, "char_148_nearl_1": { "x": -0.000000, "y": 192.000000, "sx": 1178.000000, "sy": 1178.000000, array: [{ "name": "normal", "rgb": "char_148_nearl_1", "a": "char_148_nearl_1[alpha]" }, { "name": "sad", "rgb": "char_148_nearl_2", "a": "char_148_nearl_2[alpha]" }, { "name": "serious", "rgb": "char_148_nearl_7", "a": "char_148_nearl_7[alpha]" }, { "name": "amazed", "rgb": "char_148_nearl_6", "a": "char_148_nearl_6[alpha]" }, { "name": "shadow", "rgb": "char_148_nearl_9", "a": "char_148_nearl_9[alpha]" }, { "name": "smile", "rgb": "char_148_nearl_5", "a": "char_148_nearl_5[alpha]" }, { "name": "close eyes", "rgb": "char_148_nearl_3", "a": "char_148_nearl_3[alpha]" }, { "name": "open mouth", "rgb": "char_148_nearl_4", "a": "char_148_nearl_4[alpha]" }] }, "char_1500_skulsr": { "x": 0.000000, "y": 172.000000, "sx": 919.000000, "sy": 919.000000, array: [{ "name": "", "rgb": "char_1500_skulsr", "a": "char_1500_skulsr[alpha]" }] }, "char_1500_skulsr_1": { "x": 0.056456, "y": 172.050003, "sx": 919.109985, "sy": 918.880005, array: [{ "name": "", "rgb": "char_1500_skulsr", "a": "char_1500_skulsr[alpha]" }] }, "char_1502_crowns": { "x": 0.000000, "y": 190.000000, "sx": 1080.000000, "sy": 1080.000000, array: [{ "name": "normal", "rgb": "char_1502_crowns", "a": "char_1502_crowns[alpha]" }, { "name": "shadow", "rgb": "char_1502_crowns_1", "a": "char_1502_crowns_1[alpha]" }] }, "char_1504_cqbw": { "x": 0.000000, "y": 150.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_1504_cqbw_1", "a": "char_1504_cqbw_1[alpha]" }, { "name": "", "rgb": "char_1504_cqbw_2", "a": "char_1504_cqbw_2[alpha]" }, { "name": "", "rgb": "char_1504_cqbw_3", "a": "char_1504_cqbw_3[alpha]" }, { "name": "", "rgb": "char_1504_cqbw_5", "a": "char_1504_cqbw_5[alpha]" }, { "name": "", "rgb": "char_1504_cqbw_4", "a": "char_1504_cqbw_4[alpha]" }] }, "char_1505_frstar_1": { "x": -48.000000, "y": 223.000000, "sx": 1186.000000, "sy": 1186.000000, array: [{ "name": "", "rgb": "char_1505_frstar_1", "a": "char_1505_frstar_1[alpha]" }, { "name": "shadow", "rgb": "char_1505_frstar_2", "a": "char_1505_frstar_2[alpha]" }] }, "char_1507_mephisto_1": { "x": 20.000000, "y": 160.000000, "sx": 1058.000000, "sy": 1058.000000, array: [{ "name": "normal", "rgb": "char_1507_Mephisto_1", "a": "char_1507_Mephisto_1[alpha]" }, { "name": "angry", "rgb": "char_1507_Mephisto_2", "a": "char_1507_Mephisto_2[alpha]" }, { "name": "wrath", "rgb": "char_1507_Mephisto_3", "a": "char_1507_Mephisto_3[alpha]" }, { "name": "amazde", "rgb": "char_1507_Mephisto_4", "a": "char_1507_Mephisto_4[alpha]" }, { "name": "morbid", "rgb": "char_1507_Mephisto_5", "a": "char_1507_Mephisto_5[alpha]" }, { "name": "shadow", "rgb": "char_1507_Mephisto_6", "a": "char_1507_Mephisto_6[alpha]" }] }, "char_1508_faust_1": { "x": 44.500000, "y": 160.500000, "sx": 1018.200012, "sy": 1019.000000, array: [{ "name": "normal", "rgb": "char_1508_Faust_1", "a": "char_1508_Faust_1[alpha]" }, { "name": "shadow", "rgb": "char_1508_Faust_2", "a": "char_1508_Faust_2[alpha]" }] }, "char_166_skfire_3": { "x": 0.000000, "y": 160.000000, "sx": 950.000000, "sy": 950.000000, array: [{ "name": "", "rgb": "char_166_skfire_3", "a": "char_166_skfire_3[alpha]" }, { "name": "", "rgb": "char_166_skfire_1", "a": "char_166_skfire_1[alpha]" }, { "name": "", "rgb": "char_166_skfire_2", "a": "char_166_skfire_2[alpha]" }] }, "char_180_amgoat": { "x": 0.000000, "y": 0.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_180_amgoat", "a": "char_180_amgoat[alpha]" }] },
            "char_188_helage_1": { "x": 0.000000, "y": 130.000000, "sx": 1200.000000, "sy": 1200.000000, array: [{ "name": "", "rgb": "char_188_helage_1", "a": "char_188_helage_1[alpha]" }, { "name": "", "rgb": "char_188_helage_2", "a": "char_188_helage_2[alpha]" }, { "name": "", "rgb": "char_188_helage_3", "a": "char_188_helage_3[alpha]" }] }, "char_190_clour": { "x": 0.000000, "y": 180.000000, "sx": 800.000000, "sy": 800.000000, array: [{ "name": "", "rgb": "char_190_clour", "a": "char_190_clour[alpha]" }, { "name": "", "rgb": "char_007_closre_1", "a": "char_007_closre_1[alpha]" }, { "name": "", "rgb": "char_007_closre_2", "a": "char_007_closre_2[alpha]" }, { "name": "", "rgb": "char_007_closre_3", "a": "char_007_closre_3[alpha]" }, { "name": "", "rgb": "char_007_closre_4", "a": "char_007_closre_4[alpha]" }, { "name": "", "rgb": "char_007_closre_5", "a": "char_007_closre_5[alpha]" }, { "name": "", "rgb": "char_007_closre_6", "a": "char_007_closre_6[alpha]" }] }, "char_193_frostl_1": { "x": 0.000000, "y": 200.000000, "sx": 900.000000, "sy": 900.000000, array: [{ "name": "normal", "rgb": "char_193_frostl_1", "a": "char_193_frostl_1[alpha]" }, { "name": "shadow", "rgb": "char_193_frostl_7", "a": "char_193_frostl_7[alpha]" }, { "name": "", "rgb": "char_193_frostl_2", "a": "char_193_frostl_2[alpha]" }, { "name": "", "rgb": "char_193_frostl_3", "a": "char_193_frostl_3[alpha]" }, { "name": "", "rgb": "char_193_frostl_4", "a": "char_193_frostl_4[alpha]" }, { "name": "", "rgb": "char_193_frostl_5", "a": "char_193_frostl_5[alpha]" }, { "name": "", "rgb": "char_193_frostl_6", "a": "char_193_frostl_6[alpha]" }] }, "char_196_sunbr_1": { "x": 0.000000, "y": 180.000000, "sx": 850.000000, "sy": 850.000000, array: [{ "name": "", "rgb": "char_196_sunbr_1", "a": "char_196_sunbr_1[alpha]" }] }, "char_196_sunbr_summer": { "x": 0.000000, "y": 150.000000, "sx": 770.000000, "sy": 770.000000, array: [{ "name": "", "rgb": "char_196_sunbr_summer", "a": "char_196_sunbr_summer[alpha]" }] }, "char_2005_weiyw_1": { "x": 0.000006, "y": 212.000000, "sx": 1067.000000, "sy": 1066.699951, array: [{ "name": "", "rgb": "char_2005_weiyw_1", "a": "char_2005_weiyw_1[alpha]" }] }, "char_2006_weiywfmzuki_1": { "x": 0.000000, "y": 160.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_2006_fmzuki_1", "a": "char_2006_fmzuki_1[alpha]" }] }, "char_201_moeshd": { "x": 0.000000, "y": 180.000000, "sx": 900.000000, "sy": 900.000000, array: [{ "name": "", "rgb": "char_201_moeshd", "a": "char_201_moeshd[alpha]" }] }, "char_219_meteo_1": { "x": 0.000004, "y": 183.000000, "sx": 1141.000000, "sy": 1141.000000, array: [{ "name": "normal", "rgb": "char_219_meteo_1", "a": "char_219_meteo_1[alpha]" }, { "name": "angry", "rgb": "char_219_meteo_3", "a": "char_219_meteo_3[alpha]" }, { "name": "open mouth", "rgb": "char_219_meteo_5", "a": "char_219_meteo_5[alpha]" }, { "name": "amazed", "rgb": "char_219_meteo_4", "a": "char_219_meteo_4[alpha]" }, { "name": "", "rgb": "char_219_meteo_4", "a": "char_219_meteo_4[alpha]" }, { "name": "", "rgb": "char_219_meteo_5", "a": "char_219_meteo_5[alpha]" }] }, "char_220_grani": { "x": 0.000000, "y": 230.000000, "sx": 1020.000000, "sy": 1020.000000, array: [{ "name": "", "rgb": "char_220_grani_3", "a": "char_220_grani_3[alpha]" }, { "name": "", "rgb": "char_220_grani_2", "a": "char_220_grani_2[alpha]" }, { "name": "", "rgb": "char_220_grani_1", "a": "char_220_grani_1[alpha]" }, { "name": "", "rgb": "char_220_grani_4", "a": "char_220_grani_4[alpha]" }, { "name": "", "rgb": "char_220_grani_5", "a": "char_220_grani_5[alpha]" }] }, "char_236_rope": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_236_rope_1", "a": "char_236_rope_1[alpha]" }, { "name": "", "rgb": "char_236_rope_3", "a": "char_236_rope_3[alpha]" }, { "name": "", "rgb": "char_236_rope_2", "a": "char_236_rope_2[alpha]" }] }, "char_248_mgllan": { "x": 0.000000, "y": 180.000000, "sx": 950.000000, "sy": 950.000000, array: [{ "name": "", "rgb": "char_248_mgllan", "a": "char_248_mgllan[alpha]" }] }, "char_249_muesys_8": { "x": 0.000000, "y": 140.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_249_muesys_1", "a": "char_249_muesys_1[alpha]" }, { "name": "", "rgb": "char_249_muesys_2", "a": "char_249_muesys_2[alpha]" }, { "name": "", "rgb": "char_249_muesys_3", "a": "char_249_muesys_3[alpha]" }, { "name": "", "rgb": "char_249_muesys_4", "a": "char_249_muesys_4[alpha]" }, { "name": "", "rgb": "char_249_muesys_5", "a": "char_249_muesys_5[alpha]" }, { "name": "", "rgb": "char_249_muesys_6", "a": "char_249_muesys_6[alpha]" }, { "name": "", "rgb": "char_249_muesys_7", "a": "char_249_muesys_7[alpha]" }, { "name": "", "rgb": "char_249_muesys_8", "a": "char_249_muesys_8[alpha]" }] },
            "char_259_jessica_1": { "x": 0.000000, "y": 190.000000, "sx": 998.000000, "sy": 998.000000, array: [{ "name": "normal", "rgb": "char_259_Jessica_1", "a": "char_259_Jessica_1[alpha]" }, { "name": "amazed", "rgb": "char_259_Jessica_7", "a": "char_259_Jessica_7[alpha]" }, { "name": "move", "rgb": "char_259_Jessica_6", "a": "char_259_Jessica_6[alpha]" }, { "name": "angry", "rgb": "char_259_Jessica_5", "a": "char_259_Jessica_5[alpha]" }, { "name": "sad", "rgb": "char_259_Jessica_4", "a": "char_259_Jessica_4[alpha]" }, { "name": "", "rgb": "char_259_Jessica_5", "a": "char_259_Jessica_5[alpha]" }] }, "char_263_skadi": { "x": 0.000000, "y": 180.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_263_skadi_2", "a": "char_263_skadi_2[alpha]" }, { "name": "", "rgb": "char_263_skadi_1", "a": "char_263_skadi_1[alpha]" }] }, "char_279_excu_4": { "x": 0.000000, "y": 170.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "char_279_excu_1", "a": "char_279_excu_1[alpha]" }, { "name": "", "rgb": "char_279_excu_2", "a": "char_279_excu_2[alpha]" }, { "name": "", "rgb": "char_279_excu_3", "a": "char_279_excu_3[alpha]" }, { "name": "", "rgb": "char_279_excu_4", "a": "char_279_excu_4[alpha]" }, { "name": "", "rgb": "char_279_excu_5", "a": "char_279_excu_5[alpha]" }, { "name": "", "rgb": "char_279_excu_6", "a": "char_279_excu_6[alpha]" }] }, "char_290_vigna": { "x": 0.000000, "y": 190.000000, "sx": 950.000000, "sy": 950.000000, array: [{ "name": "", "rgb": "char_290_vigna", "a": "char_290_vigna[alpha]" }] }, "char_304_hvrain": { "x": 0.000000, "y": 180.000000, "sx": 900.000000, "sy": 900.000000, array: [{ "name": "", "rgb": "char_304_hvrain", "a": "char_304_hvrain[alpha]" }] }, "char_308_swire_1": { "x": 0.000000, "y": 220.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_308_swire_4", "a": "char_308_swire_4[alpha]" }, { "name": "", "rgb": "char_308_swire_2", "a": "char_308_swire_2[alpha]" }, { "name": "", "rgb": "char_308_swire_1", "a": "char_308_swire_1[alpha]" }, { "name": "", "rgb": "char_308_swire_6", "a": "char_308_swire_6[alpha]" }, { "name": "", "rgb": "char_308_swire_5", "a": "char_308_swire_5[alpha]" }, { "name": "", "rgb": "char_308_swire_3", "a": "char_308_swire_3[alpha]" }] }, "char_340_shwaz_2": { "x": 0.000000, "y": 165.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_340_shwaz_2", "a": "char_340_shwaz_2[alpha]" }, { "name": "", "rgb": "char_340_shwaz_1", "a": "char_340_shwaz_1[alpha]" }, { "name": "", "rgb": "char_340_shwaz_5", "a": "char_340_shwaz_5[alpha]" }, { "name": "", "rgb": "char_340_shwaz_4", "a": "char_340_shwaz_4[alpha]" }, { "name": "", "rgb": "char_340_shwaz_3", "a": "char_340_shwaz_3[alpha]" }] }, "char_341_amona_2": { "x": 0.000000, "y": 230.000000, "sx": 1150.000000, "sy": 1150.000000, array: [{ "name": "", "rgb": "char_341_amona_2", "a": "char_341_amona_2[alpha]" }, { "name": "", "rgb": "char_341_amona_1", "a": "char_341_amona_1[alpha]" }] }, "char_348_ceylon_4": { "x": 0.000000, "y": 180.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "char_348_ceylon_4", "a": "char_348_ceylon_4[alpha]" }, { "name": "", "rgb": "char_348_ceylon_1", "a": "char_348_ceylon_1[alpha]" }, { "name": "", "rgb": "char_348_ceylon_7", "a": "char_348_ceylon_7[alpha]" }, { "name": "", "rgb": "char_348_ceylon_2", "a": "char_348_ceylon_2[alpha]" }, { "name": "", "rgb": "char_348_ceylon_8", "a": "char_348_ceylon_8[alpha]" }, { "name": "", "rgb": "char_348_ceylon_3", "a": "char_348_ceylon_3[alpha]" }, { "name": "", "rgb": "char_348_ceylon_6", "a": "char_348_ceylon_6[alpha]" }, { "name": "", "rgb": "char_348_ceylon_5", "a": "char_348_ceylon_5[alpha]" }, { "name": "", "rgb": "char_348_ceylon_9", "a": "char_348_ceylon_9[alpha]" }] }, "char_empty": { "x": 0.000000, "y": 203.000000, "sx": 1024.000000, "sy": 1024.000000, array: [{ "name": "", "rgb": "char_empty", "a": "char_empty[alpha]" }] }, "npc_10002": { "x": 0.000000, "y": 400.000000, "sx": 1100.000000, "sy": 1100.000000, array: [{ "name": "", "rgb": "npc_10002_1", "a": "npc_10002_1[alpha]" }] }, "npc_2004_alty": { "x": 0.000000, "y": 230.000000, "sx": 840.000000, "sy": 840.000000, array: [{ "name": "", "rgb": "npc_2004_Alty_1", "a": "npc_2004_Alty_1[alpha]" }] }
        };
        var charurl = {
            "avg_npc_001": "http://ak.mooncell.wiki/images/5/58/Avg_avg_npc_001.png", "avg_npc_002": "http://ak.mooncell.wiki/images/e/ee/Avg_avg_npc_002.png", "avg_npc_003": "http://ak.mooncell.wiki/images/8/88/Avg_avg_npc_003.png", "avg_npc_004": "http://ak.mooncell.wiki/images/1/1f/Avg_avg_npc_004.png", "avg_npc_005": "http://ak.mooncell.wiki/images/d/d5/Avg_avg_npc_005.png", "avg_npc_006": "http://ak.mooncell.wiki/images/e/e8/Avg_avg_npc_006.png", "avg_npc_007": "http://ak.mooncell.wiki/images/c/cd/Avg_avg_npc_007.png", "avg_npc_008": "http://ak.mooncell.wiki/images/5/58/Avg_avg_npc_008.png", "avg_npc_009": "http://ak.mooncell.wiki/images/c/c8/Avg_avg_npc_009.png", "avg_npc_010": "http://ak.mooncell.wiki/images/4/46/Avg_avg_npc_010.png", "avg_npc_010_2": "http://ak.mooncell.wiki/images/9/93/Avg_avg_npc_010_2.png", "avg_npc_011": "http://ak.mooncell.wiki/images/d/df/Avg_avg_npc_011.png", "avg_npc_012": "http://ak.mooncell.wiki/images/1/1b/Avg_avg_npc_012.png", "avg_npc_013": "http://ak.mooncell.wiki/images/e/e7/Avg_avg_npc_013.png", "avg_npc_014": "http://ak.mooncell.wiki/images/4/45/Avg_avg_npc_014.png", "avg_npc_015": "http://ak.mooncell.wiki/images/7/76/Avg_avg_npc_015.png", "avg_npc_016": "http://ak.mooncell.wiki/images/d/db/Avg_avg_npc_016.png", "avg_npc_017_1": "http://ak.mooncell.wiki/images/3/34/Avg_avg_npc_017_1.png", "avg_npc_017_2": "http://ak.mooncell.wiki/images/f/f1/Avg_avg_npc_017_2.png", "avg_npc_017_3": "http://ak.mooncell.wiki/images/7/76/Avg_avg_npc_017_3.png", "avg_npc_017_4": "http://ak.mooncell.wiki/images/1/15/Avg_avg_npc_017_4.png", "avg_npc_017_5": "http://ak.mooncell.wiki/images/5/57/Avg_avg_npc_017_5.png", "avg_npc_017_6": "http://ak.mooncell.wiki/images/3/30/Avg_avg_npc_017_6.png", "avg_npc_020": "http://ak.mooncell.wiki/images/6/60/Avg_avg_npc_020.png", "avg_npc_021": "http://ak.mooncell.wiki/images/2/27/Avg_avg_npc_021.png", "avg_npc_022": "http://ak.mooncell.wiki/images/a/a6/Avg_avg_npc_022.png", "avg_npc_023_1": "http://ak.mooncell.wiki/images/e/e5/Avg_avg_npc_023_1.png", "avg_npc_023_2": "http://ak.mooncell.wiki/images/1/11/Avg_avg_npc_023_2.png", "avg_npc_023_3": "http://ak.mooncell.wiki/images/3/3f/Avg_avg_npc_023_3.png", "avg_npc_024": "http://ak.mooncell.wiki/images/a/ad/Avg_avg_npc_024.png", "avg_npc_025_1": "http://ak.mooncell.wiki/images/3/3f/Avg_avg_npc_025_1.png", "avg_npc_025_2": "http://ak.mooncell.wiki/images/a/a5/Avg_avg_npc_025_2.png", "avg_npc_026": "http://ak.mooncell.wiki/images/0/06/Avg_avg_npc_026.png", "char_002_amiya_1": "http://ak.mooncell.wiki/images/0/09/Avg_char_002_amiya_1.png", "char_002_amiya_10": "http://ak.mooncell.wiki/images/f/fb/Avg_char_002_amiya_10.png", "char_002_amiya_11": "http://ak.mooncell.wiki/images/c/c2/Avg_char_002_amiya_11.png", "char_002_amiya_2": "http://ak.mooncell.wiki/images/1/19/Avg_char_002_amiya_2.png", "char_002_amiya_3": "http://ak.mooncell.wiki/images/5/5f/Avg_char_002_amiya_3.png", "char_002_amiya_4": "http://ak.mooncell.wiki/images/e/ed/Avg_char_002_amiya_4.png", "char_002_amiya_5": "http://ak.mooncell.wiki/images/1/1a/Avg_char_002_amiya_5.png", "char_002_amiya_6": "http://ak.mooncell.wiki/images/6/6f/Avg_char_002_amiya_6.png", "char_002_amiya_7": "http://ak.mooncell.wiki/images/a/ad/Avg_char_002_amiya_7.png", "char_002_amiya_8": "http://ak.mooncell.wiki/images/c/c7/Avg_char_002_amiya_8.png", "char_002_amiya_9": "http://ak.mooncell.wiki/images/d/d2/Avg_char_002_amiya_9.png", "char_002_amiya_summer_1": "http://ak.mooncell.wiki/images/0/0e/Avg_char_002_amiya_summer_1.png", "char_002_amiya_summer_2": "http://ak.mooncell.wiki/images/8/86/Avg_char_002_amiya_summer_2.png", "char_003_kalts_1": "http://ak.mooncell.wiki/images/d/d3/Avg_char_003_kalts_1.png", "char_003_kalts_2": "http://ak.mooncell.wiki/images/f/fc/Avg_char_003_kalts_2.png", "char_003_kalts_3": "http://ak.mooncell.wiki/images/1/14/Avg_char_003_kalts_3.png", "char_007_closre_1": "http://ak.mooncell.wiki/images/0/0c/Avg_char_007_closre_1.png", "char_007_closre_2": "http://ak.mooncell.wiki/images/4/47/Avg_char_007_closre_2.png", "char_007_closre_3": "http://ak.mooncell.wiki/images/b/b7/Avg_char_007_closre_3.png", "char_007_closre_4": "http://ak.mooncell.wiki/images/8/81/Avg_char_007_closre_4.png", "char_007_closre_5": "http://ak.mooncell.wiki/images/8/86/Avg_char_007_closre_5.png", "char_007_closre_6": "http://ak.mooncell.wiki/images/4/47/Avg_char_007_closre_6.png", "char_010_chen_1": "http://ak.mooncell.wiki/images/3/39/Avg_char_010_chen_1.png", "char_010_chen_2": "http://ak.mooncell.wiki/images/1/16/Avg_char_010_chen_2.png", "char_010_chen_3": "http://ak.mooncell.wiki/images/a/ab/Avg_char_010_chen_3.png", "char_010_chen_4": "http://ak.mooncell.wiki/images/6/6b/Avg_char_010_chen_4.png", "char_010_chen_5": "http://ak.mooncell.wiki/images/c/c6/Avg_char_010_chen_5.png", "char_010_chen_6": "http://ak.mooncell.wiki/images/9/9c/Avg_char_010_chen_6.png", "char_010_chen_summer": "http://ak.mooncell.wiki/images/b/b4/Avg_char_010_chen_summer.png", "char_011_talula_1": "http://ak.mooncell.wiki/images/2/22/Avg_char_011_talula_1.png", "char_011_talula_2": "http://ak.mooncell.wiki/images/5/50/Avg_char_011_talula_2.png", "char_012_misa_1": "http://ak.mooncell.wiki/images/0/05/Avg_char_012_misa_1.png", "char_012_misa_2": "http://ak.mooncell.wiki/images/7/70/Avg_char_012_misa_2.png", "char_012_misa_3": "http://ak.mooncell.wiki/images/6/6a/Avg_char_012_misa_3.png", "char_012_misa_4": "http://ak.mooncell.wiki/images/7/72/Avg_char_012_misa_4.png", "char_012_misa_5": "http://ak.mooncell.wiki/images/9/91/Avg_char_012_misa_5.png", "char_013_riop": "http://ak.mooncell.wiki/images/9/96/Avg_char_013_riop.png", "char_014_riope": "http://ak.mooncell.wiki/images/9/95/Avg_char_014_riope.png", "char_015_lmg": "http://ak.mooncell.wiki/images/2/25/Avg_char_015_lmg.png", "char_016_medic": "http://ak.mooncell.wiki/images/3/39/Avg_char_016_medic.png",
            "char_017_homura_1": "http://ak.mooncell.wiki/images/d/df/Avg_char_017_homura_1.png", "char_017_homura_2": "http://ak.mooncell.wiki/images/d/d2/Avg_char_017_homura_2.png", "char_017_homura_3": "http://ak.mooncell.wiki/images/3/34/Avg_char_017_homura_3.png", "char_017_homura_4": "http://ak.mooncell.wiki/images/c/c9/Avg_char_017_homura_4.png", "char_1002_nsabr_1": "http://ak.mooncell.wiki/images/1/1e/Avg_char_1002_nsabr_1.png", "char_1002_nsabr_2": "http://ak.mooncell.wiki/images/2/27/Avg_char_1002_nsabr_2.png", "char_1011_wizard_1": "http://ak.mooncell.wiki/images/8/8e/Avg_char_1011_wizard_1.png", "char_1011_wizard_2": "http://ak.mooncell.wiki/images/c/c2/Avg_char_1011_wizard_2.png", "char_101_sora_1": "http://ak.mooncell.wiki/images/7/7f/Avg_char_101_sora_1.png", "char_101_sora_summer": "http://ak.mooncell.wiki/images/c/c2/Avg_char_101_sora_summer.png", "char_102_texas_1": "http://ak.mooncell.wiki/images/8/88/Avg_char_102_texas_1.png", "char_103_angel_1": "http://ak.mooncell.wiki/images/c/cc/Avg_char_103_angel_1.png", "char_105_emper": "http://ak.mooncell.wiki/images/7/75/Avg_char_105_emper.png", "char_106_franka_1": "http://ak.mooncell.wiki/images/4/49/Avg_char_106_franka_1.png", "char_107_liskam_1": "http://ak.mooncell.wiki/images/7/7e/Avg_char_107_liskam_1.png", "char_130_doberm_ex": "http://ak.mooncell.wiki/images/b/be/Avg_char_130_doberm_ex.png", "char_131_flameb_1": "http://ak.mooncell.wiki/images/8/84/Avg_char_131_flameb_1.png", "char_131_flameb_2": "http://ak.mooncell.wiki/images/b/b5/Avg_char_131_flameb_2.png", "char_131_flameb_3": "http://ak.mooncell.wiki/images/d/df/Avg_char_131_flameb_3.png", "char_131_flameb_4": "http://ak.mooncell.wiki/images/b/bf/Avg_char_131_flameb_4.png", "char_131_flameb_5": "http://ak.mooncell.wiki/images/b/be/Avg_char_131_flameb_5.png", "char_131_flameb_6": "http://ak.mooncell.wiki/images/3/33/Avg_char_131_flameb_6.png", "char_131_flameb_7": "http://ak.mooncell.wiki/images/6/67/Avg_char_131_flameb_7.png", "char_134_ifrit_1": "http://ak.mooncell.wiki/images/b/b0/Avg_char_134_ifrit_1.png", "char_134_ifrit_10": "http://ak.mooncell.wiki/images/5/55/Avg_char_134_ifrit_10.png", "char_134_ifrit_11": "http://ak.mooncell.wiki/images/2/20/Avg_char_134_ifrit_11.png", "char_134_ifrit_2": "http://ak.mooncell.wiki/images/4/4c/Avg_char_134_ifrit_2.png", "char_134_ifrit_3": "http://ak.mooncell.wiki/images/b/b0/Avg_char_134_ifrit_3.png", "char_134_ifrit_4": "http://ak.mooncell.wiki/images/8/85/Avg_char_134_ifrit_4.png", "char_134_ifrit_5": "http://ak.mooncell.wiki/images/0/02/Avg_char_134_ifrit_5.png", "char_134_ifrit_6": "http://ak.mooncell.wiki/images/0/09/Avg_char_134_ifrit_6.png", "char_134_ifrit_7": "http://ak.mooncell.wiki/images/2/2b/Avg_char_134_ifrit_7.png", "char_134_ifrit_8": "http://ak.mooncell.wiki/images/1/1a/Avg_char_134_ifrit_8.png", "char_134_ifrit_9": "http://ak.mooncell.wiki/images/c/ca/Avg_char_134_ifrit_9.png", "char_134_ifrit_summer_1": "http://ak.mooncell.wiki/images/c/c4/Avg_char_134_ifrit_summer_1.png", "char_136_hsguma_1": "http://ak.mooncell.wiki/images/2/21/Avg_char_136_hsguma_1.png", "char_136_hsguma_3": "http://ak.mooncell.wiki/images/9/9d/Avg_char_136_hsguma_3.png", "char_143_ghost": "http://ak.mooncell.wiki/images/7/7a/Avg_char_143_ghost.png", "char_144_red_1": "http://ak.mooncell.wiki/images/2/29/Avg_char_144_red_1.png", "char_144_red_2": "http://ak.mooncell.wiki/images/7/7c/Avg_char_144_red_2.png", "char_144_red_3": "http://ak.mooncell.wiki/images/b/b4/Avg_char_144_red_3.png", "char_144_red_4": "http://ak.mooncell.wiki/images/5/50/Avg_char_144_red_4.png", "char_144_red_5": "http://ak.mooncell.wiki/images/a/a6/Avg_char_144_red_5.png", "char_144_red_6": "http://ak.mooncell.wiki/images/3/3d/Avg_char_144_red_6.png", "char_144_red_7": "http://ak.mooncell.wiki/images/9/9e/Avg_char_144_red_7.png", "char_144_red_8": "http://ak.mooncell.wiki/images/3/3f/Avg_char_144_red_8.png", "char_145_prove_1": "http://ak.mooncell.wiki/images/5/56/Avg_char_145_prove_1.png", "char_148_nearl_1": "http://ak.mooncell.wiki/images/b/b4/Avg_char_148_nearl_1.png", "char_148_nearl_2": "http://ak.mooncell.wiki/images/4/43/Avg_char_148_nearl_2.png", "char_148_nearl_3": "http://ak.mooncell.wiki/images/6/66/Avg_char_148_nearl_3.png", "char_148_nearl_4": "http://ak.mooncell.wiki/images/a/a9/Avg_char_148_nearl_4.png", "char_148_nearl_5": "http://ak.mooncell.wiki/images/0/08/Avg_char_148_nearl_5.png", "char_148_nearl_6": "http://ak.mooncell.wiki/images/4/4e/Avg_char_148_nearl_6.png", "char_148_nearl_7": "http://ak.mooncell.wiki/images/a/a0/Avg_char_148_nearl_7.png", "char_148_nearl_9": "http://ak.mooncell.wiki/images/3/32/Avg_char_148_nearl_9.png", "char_1500_skulsr": "http://ak.mooncell.wiki/images/8/8f/Avg_char_1500_skulsr.png", "char_1502_crowns": "http://ak.mooncell.wiki/images/3/3f/Avg_char_1502_crowns.png", "char_1502_crowns_1": "http://ak.mooncell.wiki/images/5/5f/Avg_char_1502_crowns_1.png", "char_1504_cqbw_1": "http://ak.mooncell.wiki/images/d/d9/Avg_char_1504_cqbw_1.png", "char_1504_cqbw_2": "http://ak.mooncell.wiki/images/6/66/Avg_char_1504_cqbw_2.png", "char_1504_cqbw_3": "http://ak.mooncell.wiki/images/8/8c/Avg_char_1504_cqbw_3.png", "char_1504_cqbw_4": "http://ak.mooncell.wiki/images/0/08/Avg_char_1504_cqbw_4.png", "char_1504_cqbw_5": "http://ak.mooncell.wiki/images/7/77/Avg_char_1504_cqbw_5.png", "char_1505_frstar_1": "http://ak.mooncell.wiki/images/b/b5/Avg_char_1505_frstar_1.png", "char_1505_frstar_2": "http://ak.mooncell.wiki/images/2/26/Avg_char_1505_frstar_2.png", "char_1507_mephisto_1": "http://ak.mooncell.wiki/images/3/36/Avg_char_1507_Mephisto_1.png", "char_1507_mephisto_2": "http://ak.mooncell.wiki/images/7/74/Avg_char_1507_Mephisto_2.png", "char_1507_mephisto_3": "http://ak.mooncell.wiki/images/0/0c/Avg_char_1507_Mephisto_3.png", "char_1507_mephisto_4": "http://ak.mooncell.wiki/images/5/58/Avg_char_1507_Mephisto_4.png",
            "char_1507_mephisto_5": "http://ak.mooncell.wiki/images/9/94/Avg_char_1507_Mephisto_5.png", "char_1507_mephisto_6": "http://ak.mooncell.wiki/images/4/41/Avg_char_1507_Mephisto_6.png", "char_1508_faust_1": "http://ak.mooncell.wiki/images/1/1d/Avg_char_1508_Faust_1.png", "char_1508_faust_2": "http://ak.mooncell.wiki/images/3/36/Avg_char_1508_Faust_2.png", "char_166_skfire_1": "http://ak.mooncell.wiki/images/c/c4/Avg_char_166_skfire_1.png", "char_166_skfire_2": "http://ak.mooncell.wiki/images/4/48/Avg_char_166_skfire_2.png", "char_166_skfire_3": "http://ak.mooncell.wiki/images/1/19/Avg_char_166_skfire_3.png", "char_180_amgoat": "http://ak.mooncell.wiki/images/e/ee/Avg_char_180_amgoat.png", "char_188_helage_1": "http://ak.mooncell.wiki/images/5/5f/Avg_char_188_helage_1.png", "char_188_helage_2": "http://ak.mooncell.wiki/images/1/1e/Avg_char_188_helage_2.png", "char_188_helage_3": "http://ak.mooncell.wiki/images/0/0c/Avg_char_188_helage_3.png", "char_190_clour": "http://ak.mooncell.wiki/images/9/93/Avg_char_190_clour.png", "char_193_frostl_1": "http://ak.mooncell.wiki/images/6/65/Avg_char_193_frostl_1.png", "char_193_frostl_2": "http://ak.mooncell.wiki/images/0/05/Avg_char_193_frostl_2.png", "char_193_frostl_3": "http://ak.mooncell.wiki/images/8/8e/Avg_char_193_frostl_3.png", "char_193_frostl_4": "http://ak.mooncell.wiki/images/6/6c/Avg_char_193_frostl_4.png", "char_193_frostl_5": "http://ak.mooncell.wiki/images/8/8b/Avg_char_193_frostl_5.png", "char_193_frostl_6": "http://ak.mooncell.wiki/images/2/2d/Avg_char_193_frostl_6.png", "char_193_frostl_7": "http://ak.mooncell.wiki/images/3/33/Avg_char_193_frostl_7.png", "char_196_sunbr_1": "http://ak.mooncell.wiki/images/5/50/Avg_char_196_sunbr_1.png", "char_196_sunbr_summer": "http://ak.mooncell.wiki/images/c/c4/Avg_char_196_sunbr_summer.png", "char_2005_weiyw_1": "http://ak.mooncell.wiki/images/1/1f/Avg_char_2005_weiyw_1.png", "char_2006_fmzuki_1": "http://ak.mooncell.wiki/images/f/f4/Avg_char_2006_fmzuki_1.png", "char_201_moeshd": "http://ak.mooncell.wiki/images/c/c7/Avg_char_201_moeshd.png", "char_219_meteo_1": "http://ak.mooncell.wiki/images/a/ad/Avg_char_219_meteo_1.png", "char_219_meteo_3": "http://ak.mooncell.wiki/images/9/99/Avg_char_219_meteo_3.png", "char_219_meteo_4": "http://ak.mooncell.wiki/images/b/b0/Avg_char_219_meteo_4.png", "char_219_meteo_5": "http://ak.mooncell.wiki/images/b/bc/Avg_char_219_meteo_5.png", "char_220_grani_1": "http://ak.mooncell.wiki/images/d/d6/Avg_char_220_grani_1.png", "char_220_grani_2": "http://ak.mooncell.wiki/images/8/8f/Avg_char_220_grani_2.png", "char_220_grani_3": "http://ak.mooncell.wiki/images/e/e0/Avg_char_220_grani_3.png", "char_220_grani_4": "http://ak.mooncell.wiki/images/9/9e/Avg_char_220_grani_4.png", "char_220_grani_5": "http://ak.mooncell.wiki/images/0/09/Avg_char_220_grani_5.png", "char_236_rope_1": "http://ak.mooncell.wiki/images/5/55/Avg_char_236_rope_1.png", "char_236_rope_2": "http://ak.mooncell.wiki/images/b/b7/Avg_char_236_rope_2.png", "char_236_rope_3": "http://ak.mooncell.wiki/images/3/3b/Avg_char_236_rope_3.png", "char_248_mgllan": "http://ak.mooncell.wiki/images/4/42/Avg_char_248_mgllan.png", "char_249_muesys_1": "http://ak.mooncell.wiki/images/5/53/Avg_char_249_muesys_1.png", "char_249_muesys_2": "http://ak.mooncell.wiki/images/3/33/Avg_char_249_muesys_2.png", "char_249_muesys_3": "http://ak.mooncell.wiki/images/8/88/Avg_char_249_muesys_3.png", "char_249_muesys_4": "http://ak.mooncell.wiki/images/f/f7/Avg_char_249_muesys_4.png", "char_249_muesys_5": "http://ak.mooncell.wiki/images/d/d2/Avg_char_249_muesys_5.png", "char_249_muesys_6": "http://ak.mooncell.wiki/images/4/46/Avg_char_249_muesys_6.png", "char_249_muesys_7": "http://ak.mooncell.wiki/images/6/6e/Avg_char_249_muesys_7.png", "char_249_muesys_8": "http://ak.mooncell.wiki/images/e/e9/Avg_char_249_muesys_8.png", "char_259_jessica_1": "http://ak.mooncell.wiki/images/8/83/Avg_char_259_Jessica_1.png", "char_259_jessica_4": "http://ak.mooncell.wiki/images/8/8e/Avg_char_259_Jessica_4.png", "char_259_jessica_5": "http://ak.mooncell.wiki/images/3/37/Avg_char_259_Jessica_5.png", "char_259_jessica_6": "http://ak.mooncell.wiki/images/5/5c/Avg_char_259_Jessica_6.png", "char_259_jessica_7": "http://ak.mooncell.wiki/images/7/7d/Avg_char_259_Jessica_7.png", "char_263_skadi_1": "http://ak.mooncell.wiki/images/d/d0/Avg_char_263_skadi_1.png", "char_263_skadi_2": "http://ak.mooncell.wiki/images/4/4d/Avg_char_263_skadi_2.png", "char_279_excu_1": "http://ak.mooncell.wiki/images/c/c3/Avg_char_279_excu_1.png", "char_279_excu_2": "http://ak.mooncell.wiki/images/e/e9/Avg_char_279_excu_2.png", "char_279_excu_3": "http://ak.mooncell.wiki/images/0/01/Avg_char_279_excu_3.png", "char_279_excu_4": "http://ak.mooncell.wiki/images/d/de/Avg_char_279_excu_4.png", "char_279_excu_5": "http://ak.mooncell.wiki/images/6/68/Avg_char_279_excu_5.png", "char_279_excu_6": "http://ak.mooncell.wiki/images/8/86/Avg_char_279_excu_6.png", "char_290_vigna": "http://ak.mooncell.wiki/images/0/08/Avg_char_290_vigna.png", "char_304_hvrain": "http://ak.mooncell.wiki/images/5/54/Avg_char_304_hvrain.png", "char_308_swire_1": "http://ak.mooncell.wiki/images/4/4f/Avg_char_308_swire_1.png", "char_308_swire_2": "http://ak.mooncell.wiki/images/5/5e/Avg_char_308_swire_2.png", "char_308_swire_3": "http://ak.mooncell.wiki/images/9/94/Avg_char_308_swire_3.png", "char_308_swire_4": "http://ak.mooncell.wiki/images/3/38/Avg_char_308_swire_4.png", "char_308_swire_5": "http://ak.mooncell.wiki/images/0/05/Avg_char_308_swire_5.png", "char_308_swire_6": "http://ak.mooncell.wiki/images/f/f3/Avg_char_308_swire_6.png", "char_340_shwaz_1": "http://ak.mooncell.wiki/images/5/5a/Avg_char_340_shwaz_1.png", "char_340_shwaz_2": "http://ak.mooncell.wiki/images/b/b7/Avg_char_340_shwaz_2.png", "char_340_shwaz_3": "http://ak.mooncell.wiki/images/3/38/Avg_char_340_shwaz_3.png",
            "char_340_shwaz_4": "http://ak.mooncell.wiki/images/c/c4/Avg_char_340_shwaz_4.png", "char_340_shwaz_5": "http://ak.mooncell.wiki/images/e/e3/Avg_char_340_shwaz_5.png", "char_341_amona_1": "http://ak.mooncell.wiki/images/2/2b/Avg_char_341_amona_1.png", "char_341_amona_2": "http://ak.mooncell.wiki/images/4/44/Avg_char_341_amona_2.png", "char_348_ceylon_1": "http://ak.mooncell.wiki/images/e/ec/Avg_char_348_ceylon_1.png", "char_348_ceylon_2": "http://ak.mooncell.wiki/images/a/a6/Avg_char_348_ceylon_2.png", "char_348_ceylon_3": "http://ak.mooncell.wiki/images/2/26/Avg_char_348_ceylon_3.png", "char_348_ceylon_4": "http://ak.mooncell.wiki/images/3/3d/Avg_char_348_ceylon_4.png", "char_348_ceylon_5": "http://ak.mooncell.wiki/images/8/89/Avg_char_348_ceylon_5.png", "char_348_ceylon_6": "http://ak.mooncell.wiki/images/6/68/Avg_char_348_ceylon_6.png", "char_348_ceylon_7": "http://ak.mooncell.wiki/images/5/5d/Avg_char_348_ceylon_7.png", "char_348_ceylon_8": "http://ak.mooncell.wiki/images/5/55/Avg_char_348_ceylon_8.png", "char_348_ceylon_9": "http://ak.mooncell.wiki/images/b/b8/Avg_char_348_ceylon_9.png", "char_empty": "http://ak.mooncell.wiki/images/b/bf/Avg_char_empty.png", "npc_10002_1": "http://ak.mooncell.wiki/images/5/5c/Avg_npc_10002_1.png", "npc_2004_alty_1": "http://ak.mooncell.wiki/images/2/25/Avg_npc_2004_Alty_1.png"
        };
        var imgurl = {
            "ac1_0": "http://ak.mooncell.wiki/images/8/81/Avg_ac1_0.png", "ac1_1": "http://ak.mooncell.wiki/images/b/bc/Avg_ac1_1.png", "ac1_2": "http://ak.mooncell.wiki/images/1/1b/Avg_ac1_2.png", "ac1_3": "http://ak.mooncell.wiki/images/6/6d/Avg_ac1_3.png", "ac1_4": "http://ak.mooncell.wiki/images/3/37/Avg_ac1_4.png", "ac1_6": "http://ak.mooncell.wiki/images/1/12/Avg_ac1_6.png", "ac1_ex6": "http://ak.mooncell.wiki/images/0/04/Avg_ac1_ex6.png", "ac3_kv": "http://ak.mooncell.wiki/images/c/cf/Avg_ac3_kv.png", "ac3_report": "http://ak.mooncell.wiki/images/1/17/Avg_ac3_report.png", "ac3_title1": "http://ak.mooncell.wiki/images/3/3f/Avg_ac3_title1.png", "ac3_title2": "http://ak.mooncell.wiki/images/e/ee/Avg_ac3_title2.png", "ac3_volcano": "http://ak.mooncell.wiki/images/4/4b/Avg_ac3_volcano.png", "ac3_volcano2": "http://ak.mooncell.wiki/images/5/5d/Avg_ac3_volcano2.png", "ac3_volcanoboss": "http://ak.mooncell.wiki/images/8/8c/Avg_ac3_volcanoboss.png", "avg_01": "http://ak.mooncell.wiki/images/7/7f/Avg_avg_01.png", "avg_0_1": "http://ak.mooncell.wiki/images/6/69/Avg_avg_0_1.png", "avg_0_2": "http://ak.mooncell.wiki/images/b/bc/Avg_avg_0_2.png", "avg_0_3": "http://ak.mooncell.wiki/images/f/fb/Avg_avg_0_3.png", "avg_11_1": "http://ak.mooncell.wiki/images/7/74/Avg_avg_11_1.png", "avg_11_2": "http://ak.mooncell.wiki/images/9/9a/Avg_avg_11_2.png", "avg_1_1": "http://ak.mooncell.wiki/images/0/05/Avg_avg_1_1.png", "avg_1_2": "http://ak.mooncell.wiki/images/c/cc/Avg_avg_1_2.png", "avg_1_3": "http://ak.mooncell.wiki/images/c/cd/Avg_avg_1_3.png", "avg_21_1": "http://ak.mooncell.wiki/images/c/cc/Avg_avg_21_1.png", "avg_2_1": "http://ak.mooncell.wiki/images/5/57/Avg_avg_2_1.png", "avg_2_2": "http://ak.mooncell.wiki/images/e/ee/Avg_avg_2_2.png", "avg_2_3": "http://ak.mooncell.wiki/images/3/3b/Avg_avg_2_3.png", "avg_31_1": "http://ak.mooncell.wiki/images/e/ee/Avg_avg_31_1.png", "avg_31_2": "http://ak.mooncell.wiki/images/6/65/Avg_avg_31_2.png", "avg_31_3": "http://ak.mooncell.wiki/images/c/c3/Avg_avg_31_3.png", "avg_31_4": "http://ak.mooncell.wiki/images/1/1b/Avg_avg_31_4.png", "avg_40_1": "http://ak.mooncell.wiki/images/8/8f/Avg_avg_40_1.png", "avg_40_2": "http://ak.mooncell.wiki/images/5/5c/Avg_avg_40_2.png", "avg_40_3": "http://ak.mooncell.wiki/images/e/e9/Avg_avg_40_3.png", "avg_40_4": "http://ak.mooncell.wiki/images/a/a1/Avg_avg_40_4.png", "avg_5_1_swire": "http://ak.mooncell.wiki/images/d/d8/Avg_avg_5_1_swire.png", "avg_5_4_door": "http://ak.mooncell.wiki/images/0/05/Avg_avg_5_4_door.png", "avg_5_5_chen": "http://ak.mooncell.wiki/images/6/68/Avg_avg_5_5_chen.png", "avg_5_5_fall_back": "http://ak.mooncell.wiki/images/f/fe/Avg_avg_5_5_fall_back.png", "avg_5_5_fall_front": "http://ak.mooncell.wiki/images/8/89/Avg_avg_5_5_fall_front.png", "avg_5_7_1": "http://ak.mooncell.wiki/images/8/82/Avg_avg_5_7_1.png", "avg_5_7_chen": "http://ak.mooncell.wiki/images/6/64/Avg_avg_5_7_chen.png", "avg_5_7_chen_2": "http://ak.mooncell.wiki/images/2/24/Avg_avg_5_7_chen_2.png", "avg_5_7_moph": "http://ak.mooncell.wiki/images/d/d5/Avg_avg_5_7_moph.png", "avg_5_7_shining": "http://ak.mooncell.wiki/images/f/f1/Avg_avg_5_7_shining.png", "avg_5_8_homura": "http://ak.mooncell.wiki/images/0/08/Avg_avg_5_8_homura.png", "avg_5_8_ruins": "http://ak.mooncell.wiki/images/a/ac/Avg_avg_5_8_ruins.png", "avg_5_8_sky": "http://ak.mooncell.wiki/images/7/72/Avg_avg_5_8_sky.png", "avg_5_boom": "http://ak.mooncell.wiki/images/9/9b/Avg_avg_5_boom.png", "avg_5_photo": "http://ak.mooncell.wiki/images/4/49/Avg_avg_5_photo.png", "avg_5_shot": "http://ak.mooncell.wiki/images/2/2c/Avg_avg_5_shot.png", "avg_9_1": "http://ak.mooncell.wiki/images/3/30/Avg_avg_9_1.png", "avg_9_2": "http://ak.mooncell.wiki/images/b/b6/Avg_avg_9_2.png", "avg_9_3": "http://ak.mooncell.wiki/images/e/e6/Avg_avg_9_3.png", "avg_ac01_1": "http://ak.mooncell.wiki/images/3/33/Avg_avg_ac01_1.png", "avg_ac4_1": "http://ak.mooncell.wiki/images/4/4f/Avg_avg_ac4_1.png", "avg_closure": "http://ak.mooncell.wiki/images/4/49/Avg_avg_closure.png", "avg_ep00": "http://ak.mooncell.wiki/images/0/03/Avg_avg_ep00.png", "avg_ep00_2": "http://ak.mooncell.wiki/images/b/b6/Avg_avg_ep00_2.png", "avg_ep01": "http://ak.mooncell.wiki/images/9/9d/Avg_avg_ep01.png", "avg_ep02": "http://ak.mooncell.wiki/images/8/8f/Avg_avg_ep02.png", "avg_ep03": "http://ak.mooncell.wiki/images/5/5f/Avg_avg_ep03.png", "avg_ep04": "http://ak.mooncell.wiki/images/4/4f/Avg_avg_ep04.png", "avg_ep05": "http://ak.mooncell.wiki/images/9/9e/Avg_avg_ep05.png", "avg_map_1": "http://ak.mooncell.wiki/images/c/cb/Avg_avg_map_1.png", "avg_map_2": "http://ak.mooncell.wiki/images/e/ed/Avg_avg_map_2.png", "bg_0_am": "http://ak.mooncell.wiki/images/f/f0/Avg_bg_0_am.png", "bg_0_babel": "http://ak.mooncell.wiki/images/9/91/Avg_bg_0_babel.png", "bg_0_babel2": "http://ak.mooncell.wiki/images/5/56/Avg_bg_0_babel2.png", "bg_0_coma": "http://ak.mooncell.wiki/images/d/d4/Avg_bg_0_coma.png", "bg_0_guard": "http://ak.mooncell.wiki/images/e/e8/Avg_bg_0_guard.png", "bg_0_ori": "http://ak.mooncell.wiki/images/e/e8/Avg_bg_0_ori.png", "bg_0_ori1": "http://ak.mooncell.wiki/images/7/7a/Avg_bg_0_ori1.png", "bg_0_ori2": "http://ak.mooncell.wiki/images/e/e8/Avg_bg_0_ori2.png", "bg_0_rhodes": "http://ak.mooncell.wiki/images/f/f6/Avg_bg_0_rhodes.png", "bg_0_rhodes2": "http://ak.mooncell.wiki/images/2/26/Avg_bg_0_rhodes2.png", "bg_0_rhodes3": "http://ak.mooncell.wiki/images/0/01/Avg_bg_0_rhodes3.png", "bg_0_tv": "http://ak.mooncell.wiki/images/f/fb/Avg_bg_0_tv.png", "bg_1_back": "http://ak.mooncell.wiki/images/2/23/Avg_bg_1_back.png", "bg_1_call": "http://ak.mooncell.wiki/images/9/98/Avg_bg_1_call.png", "bg_1_firstcontact": "http://ak.mooncell.wiki/images/4/4f/Avg_bg_1_firstcontact.png", "bg_1_lastattack": "http://ak.mooncell.wiki/images/c/cd/Avg_bg_1_lastattack.png", "bg_1_lastbreath": "http://ak.mooncell.wiki/images/8/87/Avg_bg_1_lastbreath.png",
            "bg_1_reflect": "http://ak.mooncell.wiki/images/0/03/Avg_bg_1_reflect.png", "bg_1_underattack": "http://ak.mooncell.wiki/images/4/45/Avg_bg_1_underattack.png",
            "bg_2_call": "http://ak.mooncell.wiki/images/3/3a/Avg_bg_2_call.png", "bg_5_2_call": "http://ak.mooncell.wiki/images/d/da/Avg_bg_5_2_call.png", "bg_5_3end1": "http://ak.mooncell.wiki/images/b/b6/Avg_bg_5_3end1.png", "bg_5_3end2": "http://ak.mooncell.wiki/images/c/ce/Avg_bg_5_3end2.png", "bg_5_6_police": "http://ak.mooncell.wiki/images/6/65/Avg_bg_5_6_police.png", "bg_abyss_1": "http://ak.mooncell.wiki/images/4/45/Avg_bg_abyss_1.png", "bg_aircraft": "http://ak.mooncell.wiki/images/1/10/Avg_bg_aircraft.png", "bg_beach": "http://ak.mooncell.wiki/images/6/63/Avg_bg_beach.png", "bg_bridge": "http://ak.mooncell.wiki/images/0/07/Avg_bg_bridge.png", "bg_building_1": "http://ak.mooncell.wiki/images/1/17/Avg_bg_building_1.png", "bg_building_2": "http://ak.mooncell.wiki/images/8/84/Avg_bg_building_2.png", "bg_building_3": "http://ak.mooncell.wiki/images/f/f8/Avg_bg_building_3.png", "bg_caveentrance": "http://ak.mooncell.wiki/images/3/35/Avg_bg_caveentrance.png", "bg_cave_2": "http://ak.mooncell.wiki/images/1/17/Avg_bg_cave_2.png", "bg_cave_3": "http://ak.mooncell.wiki/images/e/ec/Avg_bg_cave_3.png", "bg_cave_4": "http://ak.mooncell.wiki/images/3/36/Avg_bg_cave_4.png", "bg_cherbefore_1": "http://ak.mooncell.wiki/images/6/67/Avg_bg_cherbefore_1.png", "bg_cher_0": "http://ak.mooncell.wiki/images/c/c0/Avg_bg_cher_0.png", "bg_cher_1": "http://ak.mooncell.wiki/images/e/e1/Avg_bg_cher_1.png", "bg_cher_10": "http://ak.mooncell.wiki/images/b/b4/Avg_bg_cher_10.png", "bg_cher_2": "http://ak.mooncell.wiki/images/8/86/Avg_bg_cher_2.png", "bg_cher_3": "http://ak.mooncell.wiki/images/5/55/Avg_bg_cher_3.png", "bg_cher_4": "http://ak.mooncell.wiki/images/0/01/Avg_bg_cher_4.png", "bg_cher_5": "http://ak.mooncell.wiki/images/a/a7/Avg_bg_cher_5.png", "bg_cher_6": "http://ak.mooncell.wiki/images/d/db/Avg_bg_cher_6.png", "bg_cher_7": "http://ak.mooncell.wiki/images/5/52/Avg_bg_cher_7.png", "bg_cher_8": "http://ak.mooncell.wiki/images/b/b5/Avg_bg_cher_8.png", "bg_cher_9": "http://ak.mooncell.wiki/images/f/f1/Avg_bg_cher_9.png", "bg_corridor": "http://ak.mooncell.wiki/images/a/a4/Avg_bg_corridor.png", "bg_county_1": "http://ak.mooncell.wiki/images/6/6f/Avg_bg_county_1.png", "bg_emporium": "http://ak.mooncell.wiki/images/e/ef/Avg_bg_emporium.png", "bg_festival_1": "http://ak.mooncell.wiki/images/2/21/Avg_bg_festival_1.png", "bg_festival_2": "http://ak.mooncell.wiki/images/f/f5/Avg_bg_festival_2.png", "bg_forest": "http://ak.mooncell.wiki/images/b/b7/Avg_bg_forest.png", "bg_home": "http://ak.mooncell.wiki/images/7/74/Avg_bg_home.png", "bg_hotel": "http://ak.mooncell.wiki/images/2/28/Avg_bg_hotel.png", "bg_indoor_1": "http://ak.mooncell.wiki/images/b/b7/Avg_bg_indoor_1.png", "bg_indoor_2": "http://ak.mooncell.wiki/images/c/cf/Avg_bg_indoor_2.png", "bg_indoor_3": "http://ak.mooncell.wiki/images/c/c5/Avg_bg_indoor_3.png", "bg_infirmary": "http://ak.mooncell.wiki/images/f/f5/Avg_bg_infirmary.png", "bg_island": "http://ak.mooncell.wiki/images/2/23/Avg_bg_island.png", "bg_light": "http://ak.mooncell.wiki/images/0/06/Avg_bg_light.png", "bg_lungmencommand": "http://ak.mooncell.wiki/images/9/9f/Avg_bg_lungmencommand.png", "bg_lungmen_b": "http://ak.mooncell.wiki/images/2/29/Avg_bg_lungmen_b.png", "bg_lungmen_m": "http://ak.mooncell.wiki/images/2/22/Avg_bg_lungmen_m.png", "bg_lungmen_n": "http://ak.mooncell.wiki/images/5/54/Avg_bg_lungmen_n.png", "bg_lungmen_o": "http://ak.mooncell.wiki/images/e/e5/Avg_bg_lungmen_o.png", "bg_lungmen_r": "http://ak.mooncell.wiki/images/d/d1/Avg_bg_lungmen_r.png", "bg_lungmen_station": "http://ak.mooncell.wiki/images/2/23/Avg_bg_lungmen_station.png", "bg_med": "http://ak.mooncell.wiki/images/9/95/Avg_bg_med.png", "bg_offce": "http://ak.mooncell.wiki/images/b/bf/Avg_bg_offce.png", "bg_outcounty": "http://ak.mooncell.wiki/images/9/9a/Avg_bg_outcounty.png", "bg_rhodesroom": "http://ak.mooncell.wiki/images/0/0c/Avg_bg_rhodesroom.png", "bg_ri": "http://ak.mooncell.wiki/images/a/a6/Avg_bg_ri.png", "bg_ri_1": "http://ak.mooncell.wiki/images/2/26/Avg_bg_ri_1.png", "bg_rooftop": "http://ak.mooncell.wiki/images/0/05/Avg_bg_rooftop.png", "bg_rooftop_2": "http://ak.mooncell.wiki/images/8/88/Avg_bg_rooftop_2.png", "bg_storehouse": "http://ak.mooncell.wiki/images/a/a0/Avg_bg_storehouse.png", "bg_sunnytown_1": "http://ak.mooncell.wiki/images/6/6d/Avg_bg_sunnytown_1.png", "bg_sunnytown_2": "http://ak.mooncell.wiki/images/c/c5/Avg_bg_sunnytown_2.png", "bg_towerinside": "http://ak.mooncell.wiki/images/2/24/Avg_bg_towerinside.png", "bg_uptown_1": "http://ak.mooncell.wiki/images/d/d1/Avg_bg_uptown_1.png", "bg_uptown_2": "http://ak.mooncell.wiki/images/d/df/Avg_bg_uptown_2.png", "bg_uptown_3": "http://ak.mooncell.wiki/images/7/7f/Avg_bg_uptown_3.png", "bg_wild_a": "http://ak.mooncell.wiki/images/0/0a/Avg_bg_wild_a.png", "bg_wild_m": "http://ak.mooncell.wiki/images/4/42/Avg_bg_wild_m.png", "item_tll": "http://ak.mooncell.wiki/images/f/fd/Avg_item_tll.png"
        };

        var totaltxt = new Array();
        var txturl = "https://cznull.github.io/" + window.location.hash.substr(1) + ".txt";
        var xhr = new XMLHttpRequest();
        xhr.open("get", txturl);
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                totaltxt = xhr.responseText.split("\n");
            }
        }
        xhr.send("");

        function getcharmap(name){
            var index = name.indexOf("#");
            var charname;
            if (index > 0) {
                charname = name.substr(0, index);
                index = Number(name.substr(index + 1)) - 1;
            }
            else {
                charname = name;
                index = 0;
            }
            return { "char": charmap[charname], "index": index, "charname": charname };
        }

        function dec(node) {
            document.getElementById("decisions").innerHTML = "";
            frame.decision = Number(node.attributes["dec"].value);
            frame.continue = 1;
        }

        function textanalyze() {
            currentline++;
            if (currentline < totaltxt.length) {
                if (!totaltxt[currentline]) {
                    return 0;
                }
                if (totaltxt[currentline][0] == "/") {
                    return 0;
                }
                var cmds = Array(6);
                cmds[0] = totaltxt[currentline];
                if (cmds[0][0] == "[") {
                    var cmm = cmds[0].substring(1, cmds[0].indexOf("]")).toLowerCase();
                    var l = cmm.indexOf("(");
                    if (l > 0) {
                        cmds[1] = cmm.substr(0, l);
                        cmds[2] = cmm.substring(l + 1, cmm.length - 1);
                    }
                    else {
                        l = cmm.indexOf("=");
                        if (l > 0) {
                            cmds[1] = cmm.substr(0, l);
                            cmds[2] = cmm.substring(l + 2, cmm.length - 1);
                        }
                        else {
                            cmds[1] = cmm;
                            cmds[2] = "";
                        }
                    }
                    cmds[3] = cmds[0].substr(cmds[0].indexOf("]") + 1);
                }
                else {
                    cmds[3] = cmds[0];
                    cmds[2] = "";
                    cmds[1] = "";
                }
                if (!cmds) {
                    return 0;
                }
                if (cmds[1]) {
                    var sc = {};
                    for (scs of cmds[2].toLowerCase().replace(/\s+|["'\$]|(m_dia_)|(m_sys_)|(m_bat_)/g, "").split(",")) {
                        var [type, value] = scs.split("=");
                        sc[type] = value;
                    }
                    if (cmds[1].toLowerCase() == "predicate") {
                        frame.preofline = new Array();
                        if (sc.references) {
                            for (re of sc.references.split(";")) {
                                frame.preofline.push(Number(re));
                            }
                        }
                    }
                    if (frame.preofline.length) {
                        var inc = 0;
                        for (pre of frame.preofline) {
                            if (pre == frame.decision) {
                                inc = 1;
                            }
                        }
                        if (inc == 0) {
                            return 0;
                        }
                    }
                    switch (cmds[1].toLowerCase()) {
                        case "character":
                            Object.assign(frame.character.back, frame.character.front);
                            Object.assign(frame.character1.back, frame.character1.front);
                            Object.assign(frame.character2.back, frame.character2.front);
                            frame.focus.b = frame.focus.f;
                            frame.focus.f = 0;
                            var t = 150, t1 = 150, t2 = 150;
                            if (sc.fadetime) {
                                t = t1 = t2 = Number(sc.fadetime);
                            }
                            if (sc.focus) {
                                frame.focus.f = Number(sc.focus);
                            }
                            if (sc.name) {
                                var char = getcharmap(sc.name);
                                if (sc.name2) {
                                    frame.character.front.url = "";
                                    var char2 = getcharmap(sc.name2);
                                    frame.character1.front.charname = char.charname;
                                    if (frame.character1.back.charname == char.charname) {
                                        t1 = 0;
                                    }
                                    frame.character2.front.charname = char2.charname;
                                    if (frame.character2.back.charname == char2.charname) {
                                        t2 = 0;
                                    }
                                    frame.character1.front.url = charurl[char.char.array[char.index].rgb.toLowerCase()];
                                    frame.character1.front.x = char.char.x;
                                    frame.character1.front.y = char.char.y;
                                    frame.character1.front.sx = char.char.sx;
                                    frame.character1.front.sy = char.char.sy;
                                    frame.character2.front.url = charurl[char2.char.array[char2.index].rgb.toLowerCase()];
                                    frame.character2.front.x = char2.char.x;
                                    frame.character2.front.y = char2.char.y;
                                    frame.character2.front.sx = char2.char.sx;
                                    frame.character2.front.sy = char2.char.sy;
                                }
                                else {
                                    frame.character.front.charname = char.charname;
                                    if (frame.character.back.charname == char.charname) {
                                        t = 0;
                                    }
                                    frame.character1.front.url = "";
                                    frame.character2.front.url = "";
                                    frame.character.front.url = charurl[char.char.array[char.index].rgb.toLowerCase()];
                                    frame.character.front.x = char.char.x;
                                    frame.character.front.y = char.char.y;
                                    frame.character.front.sx = char.char.sx;
                                    frame.character.front.sy = char.char.sy;
                                }
                            }
                            else {
                                frame.character.front.url = "";
                                frame.character1.front.url = "";
                                frame.character2.front.url = "";
                            }
                            frame.character.fade.starttime = (new Date()).getTime();
                            frame.character1.fade.starttime = (new Date()).getTime();
                            frame.character2.fade.starttime = (new Date()).getTime();
                            frame.character.fade.duration = t;
                            frame.character1.fade.duration = t1;
                            frame.character2.fade.duration = t2;
                            if (sc.block == "true") {
                                frame.block.duration = t;
                                return 1;
                            }
                            break;
                        case "charactercutin":
                            var id = 1;
                            var charcutinobj;
                            if (sc.widgetid) {
                                id = Number(sc.widgetid);
                            }
                            if (id == 1) {
                                charcutinobj = frame.charcutin1;
                            }
                            else {
                                charcutinobj = frame.charcutin2;
                            }
                            Object.assign(charcutinobj.back, charcutinobj.front);
                            var t = 0, offx = 0, ccwidth = 0;
                            if (sc.width) {
                                ccwidth = Number(sc.width);
                            }
                            if (sc.offsetx) {
                                offx = Number(sc.offsetx);
                            }
                            if (sc.fadetime) {
                                t = Number(sc.fadetime) * 1000;
                            }
                            if (sc.name) {
                                var char = getcharmap(sc.name);
                                charcutinobj.front.url = charurl[char.char.array[char.index].rgb.toLowerCase()];
                                charcutinobj.front.x = char.char.x;
                                charcutinobj.front.y = char.char.y;
                                charcutinobj.front.sx = char.char.sx;
                                charcutinobj.front.sy = char.char.sy;
                                charcutinobj.front.offx = offx;
                                charcutinobj.front.width = ccwidth;
                            }
                            else {
                                charcutinobj.front.url = "";
                            }
                            charcutinobj.fade.starttime = (new Date()).getTime();
                            charcutinobj.fade.duration = t;
                            if (sc.block == "true") {
                                frame.block.duration = t;
                                return 1;
                            }
                            break;
                        case "image":
                            Object.assign(frame.img.back, frame.img.front);
                            var t = 0, x = 0, y = 0, sx = 1.0, sy = 1.0;
                            if (sc.image) {
                                frame.img.front.url = imgurl[sc.image];
                            }
                            else {
                                frame.img.front.url = "";
                            }
                            if (sc.fadetime) {
                                t = Number(sc.fadetime) * 1000;
                            }
                            if (sc.x) {
                                x = Number(sc.x);
                            }
                            if (sc.y) {
                                y = Number(sc.y);
                            }
                            if (sc.xscale) {
                                sx = Number(sc.xscale);
                            }
                            if (sc.yscale) {
                                sy = Number(sc.yscale);
                            }
                            frame.img.front.x = x;
                            frame.img.front.y = y;
                            frame.img.front.sx = sx;
                            frame.img.front.sy = sy;
                            frame.img.fade.starttime = (new Date()).getTime();
                            frame.img.fade.duration = t;
                            if (sc.block == "true") {
                                frame.block.duration = t;
                                return 1;
                            }
                            break;
                        case "imagetween":
                            var t = 0, x = 0, y = 0, sx = 1.0, sy = 1.0;
                            if (sc.image) {
                                frame.img.front.url = imgurl[sc.image];
                            }
                            if (sc.duration) {
                                t = Number(sc.duration) * 1000;
                            }
                            if (sc.xfrom) {
                                frame.img.front.x = Number(sc.xfrom);
                            }
                            if (sc.yfrom) {
                                frame.img.front.y = Number(sc.yfrom);
                            }
                            if (sc.xscalefrom) {
                                frame.img.front.sx = Number(sc.xscalefrom);
                            }
                            if (sc.yscalefrom) {
                                frame.img.front.sy = Number(sc.yscalefrom);
                            }
                            if (sc.xto) {
                                x = Number(sc.xto);
                            }
                            if (sc.yfrom) {
                                y = Number(sc.yto);
                            }
                            if (sc.xscaleto) {
                                sx = Number(sc.xscaleto);
                            }
                            if (sc.yscaleto) {
                                sy = Number(sc.yscaleto);
                            }
                            frame.img.front.tween.lasttime = (new Date()).getTime();
                            frame.img.front.tween.duration = t;
                            frame.img.front.tween.x = (x - frame.img.front.x) / t;
                            frame.img.front.tween.y = (y - frame.img.front.y) / t;
                            frame.img.front.tween.sx = (sx - frame.img.front.sx) / t;
                            frame.img.front.tween.sy = (sy - frame.img.front.sy) / t;
                            if (sc.block == "true") {
                                frame.block.duration = t;
                                return 1;
                            }
                            break;
                        case "background":
                            if (sc.image) {
                                frame.background.front.url = imgurl[sc.image];
                            }
                            else {
                                frame.background.front.url = "";
                            }
                            break;
                        case "blocker":
                            var r = 0, g = 0, b = 0; a = 1.0, t = 500;
                            if (sc.fadetime) {
                                t = Number(sc.fadetime) * 1000;
                            }
                            if (sc.a) {
                                a = Number(sc.a);
                            }
                            if (a == 0) {
                                r = frame.blocker.x;
                                g = frame.blocker.y;
                                b = frame.blocker.sx;
                            }
                            if (sc.r) {
                                r = Number(sc.r);
                            }
                            if (r <= 1.0) {
                                r *= 255;
                            }
                            if (sc.g) {
                                g = Number(sc.g);
                            }
                            if (g <= 1.0) {
                                g *= 255;
                            }
                            if (sc.b) {
                                b = Number(sc.b);
                            }
                            if (b <= 1.0) {
                                b *= 255;
                            }
                            if (frame.blocker.sy < 0.001) {
                                frame.blocker.x = r;
                                frame.blocker.y = g;
                                frame.blocker.sx = b;
                            }
                            if (sc.rfrom) {
                                frame.blocker.x = Number(sc.rfrom);
                            }
                            if (frame.blocker.x <= 1.0) {
                                frame.blocker.x *= 255;
                            }
                            if (sc.gfrom) {
                                frame.blocker.y = Number(sc.gfrom);
                            }
                            if (frame.blocker.y <= 1.0) {
                                frame.blocker.y *= 255;
                            }
                            if (sc.bfrom) {
                                frame.blocker.sx = Number(sc.bfrom);
                            }
                            if (frame.blocker.sx <= 1.0) {
                                frame.blocker.sx *= 255;
                            }
                            frame.blocker.tween.lasttime = (new Date()).getTime();
                            frame.blocker.tween.duration = t;
                            frame.blocker.tween.x = (r - frame.blocker.x) / t;
                            frame.blocker.tween.y = (g - frame.blocker.y) / t;
                            frame.blocker.tween.sx = (b - frame.blocker.sx) / t;
                            frame.blocker.tween.sy = (a - frame.blocker.sy) / t;
                            if (sc.block == "true") {
                                frame.block.duration = t;
                                return 1;
                            }
                            break;
                        case "decision":
                            var options = sc.options.split(";");
                            var values = sc.values.split(";");
                            for (var i = 0; i < options.length; i++) {
                                var deci = document.createElement("div");
                                deci.className = "decision";
                                deci.innerHTML = options[i];
                                deci.style.top = (362 + (i - 0.5 * options.length) * 100) + "px";
                                deci.setAttribute("dec",values[i])
                                deci.addEventListener("click", function () { dec(this); });
                                document.getElementById("decisions").appendChild(deci);
                            }
                            frame.continue = 0;
                            return 1;
                            break;
                        case "delay":
                            var t = 500;
                            if (sc.time) {
                                t = Number(sc.time) * 1000;
                            }
                            frame.block.duration = t;
                            return 1;
                            break;
                        case "dialog":
                            frame.dialog = 0;
                            break;
                    }
                }
                if (cmds[1] == "name" || !cmds[1]) {
                    frame.dialog = 1;
                    document.getElementById("name").innerHTML = cmds[2];
                    var diastr = cmds[3].replace("{@nickname}", "双生#0368");
                    frame.block.duration = diastr.length * 66.6666666666667 + 700;
                    document.getElementById("dialog").innerHTML = diastr;
                    return 1;
                }
            }
            else {
                return -1;
            }
            return 0;
        }

        function exectween(img) {
            var time = (new Date()).getTime();
            if (img.tween.duration > 0) {
                var dt;
                if (time - img.tween.lasttime > img.tween.duration) {
                    dt = img.tween.duration;
                }
                else {
                    dt = time - img.tween.lasttime;
                }
                img.tween.duration -= dt;
                img.tween.lasttime = time;
                img.x += img.tween.x * dt;
                img.y += img.tween.y * dt;
                img.sx += img.tween.sx * dt;
                img.sy += img.tween.sy * dt;
            }
            return img;
        }

        function drawpart(eleidb, eleidf, part) {
            var currentele, x, y, sx, sy;
            currentele = document.getElementById(eleidb);
            if (part.fade.duration) {
                if (part.back.url) {
                    part.back = exectween(part.back);
                    x = part.back.x;
                    y = part.back.y;
                    sx = part.back.sx;
                    sy = part.back.sy;
                    currentele.style.display = "block";
                    currentele.style.backgroundImage = "url('" + part.back.url + "')";
                    currentele.style.backgroundSize = (sx * width) + "px " + (sx * height) + "px";
                    currentele.style.backgroundPosition = (width * (1.0 - sx) / 2 + x) + "px " + (height * (1.0 - sy) / 2 - y) + "px";
                }


                if ((new Date()).getTime() - part.fade.starttime < part.fade.duration) {
                    currentele.style.opacity = 1.0 - ((new Date()).getTime() - part.fade.starttime) / part.fade.duration;
                }
                else {
                    currentele.style.opacity = 0.0;
                    part.fade.duration = 0;
                }
                if (part.front.url) {
                    currentele.style.opacity = 1.0;
                }
            }
            else {
                document.getElementById(eleidb).style.display = "none";
            }

            currentele = document.getElementById(eleidf);
            if (part.front.url) {
                part.front = exectween(part.front);
                x = part.front.x;
                y = part.front.y;
                sx = part.front.sx;
                sy = part.front.sy;
                currentele.style.display = "block";
                currentele.style.backgroundImage = "url('" + part.front.url + "')";
                currentele.style.backgroundSize = (sx * width) + "px " + (sx * height) + "px";
                currentele.style.backgroundPosition = (width * (1.0 - sx) / 2 + x) + "px " + (height * (1.0 - sy) / 2 - y) + "px";
                if (part.fade.duration) {
                    if ((new Date()).getTime() - part.fade.starttime < part.fade.duration) {
                        currentele.style.opacity = ((new Date()).getTime() - part.fade.starttime) / part.fade.duration;
                    }
                    else {
                        currentele.style.opacity = 1.0;
                    }
                }
                else {
                    currentele.style.opacity = 1.0;
                }
            }
            else {
                document.getElementById(eleidf).style.display = "none";
            }
            return part;
        }

        function drawimg(part) {
            var x, y, sx, sy;
            var c = document.getElementById("img");
            var cxt = c.getContext("2d");
            var img = new Image();
            cxt.clearRect(0, 0, width, height);
            if (part.fade.duration) {
                if ((new Date()).getTime() - part.fade.starttime < part.fade.duration) {
                    cxt.globalAlpha = 1.0 - ((new Date()).getTime() - part.fade.starttime) / part.fade.duration;
                }
                else {
                    cxt.globalAlpha = 0.0;
                    part.fade.duration = 0;
                }
                if (part.front.url) {
                    cxt.globalAlpha = 1.0;
                }
                if (part.back.url) {
                    part.back = exectween(part.back);
                    x = part.back.x;
                    y = part.back.y;
                    sx = part.back.sx;
                    sy = part.back.sy;
                    img.src = part.back.url;
                    cxt.drawImage(img, (width * (1.0 - sx) / 2 + x), (height * (1.0 - sy) / 2 - y), (sx * width), (sx * height));
                }
            }

            if (part.front.url) {
                if (part.fade.duration) {
                    if ((new Date()).getTime() - part.fade.starttime < part.fade.duration) {
                        cxt.globalAlpha = ((new Date()).getTime() - part.fade.starttime) / part.fade.duration;
                    }
                    else {
                        cxt.globalAlpha = 1.0;
                    }
                }
                else {
                    cxt.globalAlpha = 1.0;
                }
                part.front = exectween(part.front);
                x = part.front.x;
                y = part.front.y;
                sx = part.front.sx;
                sy = part.front.sy;
                img.src = part.front.url;
                cxt.drawImage(img, (width * (1.0 - sx) / 2 + x), (height * (1.0 - sy) / 2 - y), (sx * width), (sx * height));
            }
        }

        function drawcharacter(eleidb, eleidf, part, basex) {
            var currentele, x, y, sx, sy;
            currentele = document.getElementById(eleidb);
            if (part.fade.duration) {
                if (part.back.url) {
                    part.back = exectween(part.back);
                    x = part.back.x;
                    y = part.back.y;
                    sx = part.back.sx;
                    sy = part.back.sy;
                    currentele.style.display = "block";
                    currentele.style.backgroundImage = "url('" + part.back.url + "')";
                    currentele.style.backgroundSize = (sx / 720 * height) + "px " + (sx / 720 * height) + "px";
                    currentele.style.backgroundPosition = (width * (1.0 - sx / 720 / 16 * 9) / 2 + x + basex) + "px " + (height * (2.0 - sy / 720) / 2 - y) + "px";
                }
                else {
                    currentele.style.display = "none";
                }

                if ((new Date()).getTime() - part.fade.starttime < part.fade.duration) {
                    currentele.style.opacity = 1.0 - ((new Date()).getTime() - part.fade.starttime) / part.fade.duration;
                }
                else {
                    currentele.style.opacity = 0.0;
                    part.fade.duration = 0;
                }
            }
            else {
                document.getElementById(eleidb).style.display = "none";
            }

            currentele = document.getElementById(eleidf);
            if (part.front.url) {
                part.front = exectween(part.front);
                x = part.front.x;
                y = part.front.y;
                sx = part.front.sx;
                sy = part.front.sy;
                currentele.style.display = "block";
                currentele.style.backgroundImage = "url('" + part.front.url + "')";
                currentele.style.backgroundSize = (sx / 720 * height) + "px " + (sx / 720 * height) + "px";
                currentele.style.backgroundPosition = (width * (1.0 - sx / 720 / 16 * 9) / 2 + x + basex) + "px " + (height * (2.0 - sy / 720) / 2 - y) + "px";
                if (part.fade.duration) {
                    if ((new Date()).getTime() - part.fade.starttime < part.fade.duration) {
                        currentele.style.opacity = ((new Date()).getTime() - part.fade.starttime) / part.fade.duration;
                    }
                    else {
                        currentele.style.opacity = 1.0;
                    }
                }
                else {
                    currentele.style.opacity = 1.0;
                }
            }
            else {
                document.getElementById(eleidf).style.display = "none";
            }
            return part;
        }

        function drawcharactercutin(eleid, part) {
            var currentele, x, y, sx, sy, ccwidth, offx;
            currentele = document.getElementById(eleid);
            if (part.front.url) {
                x = part.front.x;
                y = part.front.y;
                sx = part.front.sx;
                sy = part.front.sy;
                offx = part.front.offx;
                if (part.fade.duration) {
                    if ((new Date()).getTime() - part.fade.starttime < part.fade.duration) {
                        ccwidth = part.front.width * ((new Date()).getTime() - part.fade.starttime) / part.fade.duration;
                    }
                    else {
                        ccwidth = part.front.width;
                        part.fade.duration = 0;
                    }
                }
                else {
                    ccwidth = part.front.width;
                }
                currentele.style.display = "block";
                currentele.style.left = (720 + offx - ccwidth / 2) + "px";
                currentele.style.width = ccwidth + "px";
                currentele.style.backgroundImage = "url('" + part.front.url + "')";
                currentele.style.backgroundSize = (sx / 720 * height) + "px " + (sx / 720 * height) + "px";
                currentele.style.backgroundPosition = ((ccwidth - sx) / 2 + x) + "px " + (height * (2.0 - sy / 720) / 2 - y) + "px";
            }
            else {
                if (part.fade.duration && part.back.url) {
                    part.back = exectween(part.back);
                    x = part.back.x;
                    y = part.back.y;
                    sx = part.back.sx;
                    sy = part.back.sy;
                    offx = part.front.offx;
                    if ((new Date()).getTime() - part.fade.starttime < part.fade.duration) {
                        ccwidth = part.front.width * (1.0 - ((new Date()).getTime() - part.fade.starttime) / part.fade.duration);
                    }
                    else {
                        ccwidth = 0;
                        part.fade.duration = 0;
                    }
                    currentele.style.display = "block";
                    currentele.style.left = (720 + offx - ccwidth / 2) + "px";
                    currentele.style.width = ccwidth + "px";
                    currentele.style.backgroundImage = "url('" + part.back.url + "')";
                    currentele.style.backgroundSize = (sx / 720 * height) + "px " + (sx / 720 * height) + "px";
                    currentele.style.backgroundPosition = ((ccwidth - sx) / 2 + x) + "px " + (height * (2.0 - sy / 720) / 2 - y) + "px";
                }
                else {
                    currentele.style.display = "none";
                }
            }
            return part;
        }


        function draw() {
            frame.background = drawpart("background_b", "background_f", frame.background);
            drawimg(frame.img);
            frame.character = drawcharacter("character_b", "character_f", frame.character, 0);
            frame.character1 = drawcharacter("character1_b", "character1_f", frame.character1, -200);
            frame.character2 = drawcharacter("character2_b", "character2_f", frame.character2, 200);
            if (frame.focus.b == -1) {
                document.getElementById("character_b").style.filter = "brightness(0.5)";
                document.getElementById("character1_b").style.filter = "brightness(0.5)";
                document.getElementById("character2_b").style.filter = "brightness(0.5)";
            }
            else if (frame.focus.b == 1) {
                document.getElementById("character_b").style.filter = "brightness(0.5)";
                document.getElementById("character1_b").style.filter = "brightness(1.0)";
                document.getElementById("character1_b").style.zIndex = "4";
                document.getElementById("character2_b").style.filter = "brightness(0.5)";
                document.getElementById("character2_b").style.zIndex = "3";
            }
            else if (frame.focus.b == 2) {
                document.getElementById("character_b").style.filter = "brightness(0.5)";
                document.getElementById("character1_b").style.filter = "brightness(0.5)";
                document.getElementById("character1_b").style.zIndex = "3";
                document.getElementById("character2_b").style.filter = "brightness(1.0)";
                document.getElementById("character2_b").style.zIndex = "4";
            }
            else {
                document.getElementById("character_b").style.filter = "brightness(1.0)";
                document.getElementById("character1_b").style.filter = "brightness(1.0)";
                document.getElementById("character2_b").style.filter = "brightness(1.0)";
            }

            if (frame.focus.f == -1) {
                document.getElementById("character_f").style.filter = "brightness(0.5)";
                document.getElementById("character1_f").style.filter = "brightness(0.5)";
                document.getElementById("character2_f").style.filter = "brightness(0.5)";
            }
            else if (frame.focus.f == 1) {
                document.getElementById("character_f").style.filter = "brightness(0.5)";
                document.getElementById("character1_f").style.filter = "brightness(1.0)";
                document.getElementById("character1_f").style.zIndex = "7";
                document.getElementById("character2_f").style.filter = "brightness(0.5)";
                document.getElementById("character2_f").style.zIndex = "6";
            }
            else if (frame.focus.f == 2) {
                document.getElementById("character_f").style.filter = "brightness(0.5)";
                document.getElementById("character1_f").style.filter = "brightness(0.5)";
                document.getElementById("character1_f").style.zIndex = "6";
                document.getElementById("character2_f").style.filter = "brightness(1.0)";
                document.getElementById("character2_f").style.zIndex = "7";
            }
            else {
                document.getElementById("character_f").style.filter = "brightness(1.0)";
                document.getElementById("character1_f").style.filter = "brightness(1.0)";
                document.getElementById("character2_f").style.filter = "brightness(1.0)";
            }

            drawcharactercutin("charactercutin1", frame.charcutin1);
            drawcharactercutin("charactercutin2", frame.charcutin2);

            if (frame.dialog == 0) {
                document.getElementById("dialogarea").style.display = "none";
            }
            else {
                document.getElementById("dialogarea").style.display = "block";
            }

            frame.blocker = exectween(frame.blocker);
            document.getElementById("blocker").style.backgroundColor = "rgb(" + frame.blocker.x + "," + frame.blocker.y + "," + frame.blocker.sx + ")";
            document.getElementById("blocker").style.opacity = frame.blocker.sy;

            var time = (new Date()).getTime();
            if (frame.block.duration > 0) {
                var dt;
                if (time - frame.block.lasttime > frame.block.duration) {
                    dt = frame.block.duration;
                }
                else {
                    dt = time - frame.block.lasttime;
                }
                frame.block.duration -= dt;
                frame.block.lasttime = time;
                return 0;
            }
            frame.block.lasttime = time;
            return 1;
        }

        function ontimer() {
            if (draw() == 1) {//need analyze
                while (frame.continue) {
                    var ret = textanalyze();
                    if (ret == 1) {//continue play
                        break;
                    }
                    else if (ret == -1) {//end
                        isonplay = 0;
                        return;
                    }
                }
            }
            window.requestAnimationFrame(ontimer);
        }

        function start() {
            if (isonplay == 0) {
                frame.background = new part();
                frame.character = new part();
                frame.character1 = new part();
                frame.character2 = new part();
                frame.img = new part();
                frame.charcutin1 = new part();
                frame.charcutin2 = new part();
                frame.blocker = new img();
                frame.block = new tween();
                frame.block.duration = 200;
                frame.focus = {};
                frame.focus.f = 0;
                frame.dialog = 0;
                frame.decision = 0;
                frame.preofline = new Array();
                frame.continue = 1;

                frame.blocker.x = 0;
                frame.blocker.y = 0;
                frame.blocker.sx = 0;
                frame.blocker.sy = 0;

                ontimer();
                isonplay = 1;
                currentline = -1;
            }
        }

    </script>


</body>
</html>
